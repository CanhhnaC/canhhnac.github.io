{"version":3,"sources":["configuration/actions.ts","themeReducer.ts","layout/Logo.tsx","layout/AppBar.tsx","segments/data.ts","visitors/SegmentsField.tsx","visitors/SegmentInput.tsx","visitors/AvatarField.tsx","visitors/FullNameField.tsx","visitors/CustomerLinkField.tsx","visitors/ColoredNumberField.tsx","visitors/MobileGrid.tsx","visitors/VisitorListAside.tsx","visitors/VisitorList.tsx","visitors/VisitorCreate.tsx","orders/NbItemsField.tsx","visitors/CustomerReferenceField.tsx","orders/MobileGrid.tsx","orders/OrderList.tsx","orders/Basket.tsx","orders/OrderEdit.tsx","orders/index.ts","reviews/BulkAcceptButton.tsx","reviews/BulkRejectButton.tsx","reviews/ReviewListMobile.tsx","products/ProductReferenceField.tsx","reviews/StarRatingField.tsx","reviews/rowStyle.tsx","reviews/ReviewListDesktop.tsx","reviews/ReviewFilter.tsx","reviews/AcceptButton.tsx","reviews/RejectButton.tsx","reviews/ReviewEditToolbar.tsx","reviews/ReviewEdit.tsx","reviews/ReviewList.tsx","reviews/index.ts","visitors/Aside.tsx","visitors/SegmentsInput.tsx","visitors/VisitorEdit.tsx","visitors/index.ts","visitors/AddressField.tsx","invoices/InvoiceShow.tsx","invoices/InvoiceList.tsx","invoices/index.ts","products/GridList.tsx","products/ProductList.tsx","products/Poster.tsx","products/ProductCreate.tsx","products/ProductEdit.tsx","products/index.tsx","categories/LinkToRelatedProducts.tsx","categories/CategoryList.tsx","products/ThumbnailField.tsx","products/ProductRefField.tsx","categories/CategoryEdit.tsx","categories/index.ts","layout/SubMenu.tsx","layout/Menu.tsx","layout/themes.ts","layout/Layout.tsx","layout/Login.tsx","dashboard/Welcome.tsx","dashboard/CardWithIcon.tsx","dashboard/MonthlyRevenue.tsx","dashboard/NbNewOrders.tsx","dashboard/PendingOrders.tsx","dashboard/PendingReviews.tsx","dashboard/NewCustomers.tsx","dashboard/OrderChart.tsx","dashboard/Dashboard.tsx","dashboard/index.ts","configuration/Configuration.tsx","segments/LinkToRelatedCustomers.tsx","segments/Segments.tsx","routes.tsx","i18n/en.ts","dataProvider/index.ts","fakeServer/index.ts","App.tsx","index.tsx","dashboard/welcome_bg.png","dashboard/welcome_illustration.svg","dashboard/cartouche.png","dashboard/cartoucheDark.png"],"names":["changeTheme","theme","type","payload","themeReducer","previousState","action","Logo","props","width","height","viewBox","aria-label","style","lineHeight","fontWeight","fontSize","fontFamily","letterSpacing","wordSpacing","strokeWidth","fill","d","useStyles","makeStyles","title","flex","textOverflow","whiteSpace","overflow","spacer","ConfigurationMenu","forwardRef","ref","translate","useTranslate","MenuItemLink","to","primaryText","leftIcon","onClick","CustomUserMenu","UserMenu","CustomAppBar","classes","AppBar","elevation","userMenu","Typography","variant","color","className","id","name","main","display","flexWrap","marginTop","marginBottom","chip","margin","SegmentsField","record","groups","map","segmentId","segment","segments","find","s","Chip","size","key","label","defaultProps","addLabel","source","input","SegmentInput","SelectInput","choices","AvatarField","Avatar","src","avatar","parseInt","root","alignItems","marginRight","spacing","FullNameField","first_name","last_name","memo","CustomerLinkField","Link","ColoredNumberField","WrappedComponent","Colored","displayName","colored","NumberField","card","flexDirection","cardTitleContent","justifyContent","cardContent","typography","body1","MobileGrid","ids","data","basePath","Card","CardHeader","resource","CardContent","DateField","nb_commands","options","currency","length","breakpoints","up","order","down","listItem","paddingLeft","listItemText","FilterSection","Icon","icon","Box","mt","mr","Aside","filterValues","setFilters","setFilter","values","onSearchChange","event","q","target","value","undefined","FilterButton","isSelected","Object","keys","reduce","acc","addFilter","inverseValues","ListItem","button","selected","ListItemText","primary","ListItemSecondaryAction","IconButton","onSubmit","initialValues","handleSubmit","TextInput","resettable","helperText","InputProps","endAdornment","InputAdornment","position","onChange","AccessTimeIcon","dense","disablePadding","last_seen_gte","endOfYesterday","toISOString","last_seen_lte","startOfWeek","Date","subWeeks","startOfMonth","subMonths","MonetizationOnIcon","has_ordered","MailIcon","has_newsletter","LocalOfferIcon","VisitorFilter","Filter","SearchInput","alwaysOn","DateInput","NullableBooleanInput","defaultValue","VisitorList","isXsmall","useMediaQuery","isSmall","List","filters","sort","field","perPage","aside","VisitorListAside","Datagrid","optimized","rowClick","showTime","BooleanField","marginLeft","email","address","maxWidth","zipcode","city","comment","password","confirm_password","validatePasswords","errors","requiredValidate","required","SectionTitle","gutterBottom","Separator","pt","VisitorCreate","Create","SimpleForm","validate","autoFocus","formClassName","validation","fullWidth","multiline","PasswordInput","render","basket","NbItemsField","FunctionField","textAlign","CustomerReferenceField","ReferenceField","reference","useListStyles","cardContentRow","TextField","OrderFilter","ReferenceInput","AutocompleteInput","optionText","choice","useDatagridStyles","total","tabs","TabbedDatagrid","displayedFilters","rest","isXSmall","useState","ordered","setOrdered","delivered","setDelivered","cancelled","setCancelled","useEffect","status","handleChange","useCallback","selectedIds","Tabs","centered","indicatorColor","Tab","Divider","OrderList","filterDefaultValues","container","minWidth","rightAlignedCell","boldCell","Basket","useQueryWithStore","item","product_id","state","productId","admin","resources","products","filter","r","prev","next","loaded","Paper","Table","TableHead","TableRow","TableCell","TableBody","price","toLocaleString","quantity","colSpan","total_ex_taxes","delivery_fees","tax_rate","classnames","OrderTitle","useEditStyles","list","edit","Edit","disabled","BooleanInput","OrderIcon","BulkAcceptButton","notify","useNotify","redirectTo","useRedirect","unselectAll","useUnselectAll","useUpdateMany","CRUD_UPDATE_MANY","undoable","onSuccess","onFailure","approve","loading","Button","BulkRejectButton","reject","link","textDecoration","inline","ReviewListMobile","Number","linkToRecord","ListItemAvatar","secondary","secondaryTypographyProps","noWrap","hasBulkActions","ProductReferenceField","opacity","large","small","StarRatingField","Array","rating","_","i","rowStyle","selectedRow","backgroundColor","palette","borderLeftColor","green","borderLeftWidth","borderLeftStyle","orange","red","headerRow","headerCell","padding","rowCell","ReviewListDesktop","useTheme","cellClassName","useFilterStyles","ReviewFilter","AcceptButton","useUpdate","paddingRight","RejectButton","background","paper","ReviewEditToolbar","handleSubmitWithRedirect","invalid","saving","SaveButton","redirect","submitOnEnter","DeleteButton","paddingTop","form","inlineField","ReviewEdit","onCancel","controllerProps","useEditController","save","version","toolbar","rowsMax","ReviewsBulkActionButtons","BulkDeleteButton","flexGrow","transition","transitions","create","duration","enteringScreen","listWithDrawer","drawerPaper","zIndex","ReviewList","history","useHistory","handleClose","push","path","match","isMatch","params","bulkActionButtons","Drawer","open","anchor","onClose","ReviewIcon","useAsideStyles","EventList","useGetList","page","customer_id","orders","orderIds","reviews","reviewIds","events","mixOrdersAndReviews","m","mb","smart_count","eventsFromOrders","date","eventsFromReviews","concat","e1","e2","getTime","useEventStyles","cardHeader","clamp","Order","subheader","Review","EditButton","Tooltip","component","SegmentsInput","addField","SelectArrayInput","VisitorTitle","VisitorForm","FormWithRedirect","formProps","md","lg","xs","sm","ml","Toolbar","VisitorIcon","AddressField","CustomerField","InvoiceShow","useShowController","Grid","align","alignContent","toLocaleDateString","invoices","ListFilters","expand","InvoiceIcon","gridList","tileBar","placeholder","grey","getColsForWidth","LoadingGridList","nbChildren","fn","nbItems","cellHeight","cols","GridListTile","from","LoadedGridList","thumbnail","alt","GridListTileBar","subtitle","withWidth","useQuickFilterStyles","QuickFilter","ProductFilter","NumberInput","ProductList","pagination","Pagination","rowsPerPageOptions","content","img","maxHeight","Poster","image","styles","stock","widthFormGroup","heightFormGroup","ProductCreate","TabbedForm","FormTab","startAdornment","allowEmpty","ProductTitle","createStyles","tab","contentClassName","ReferenceManyField","ProductIcon","LinkToRelatedProducts","pathname","search","stringify","JSON","category_id","media","paddingBottom","actionSpacer","CategoryGrid","xl","CardMedia","inflection","humanize","CardActions","CategoryList","actions","ThumbnailField","ProductRefField","CategoryTitle","minimumFractionDigits","CategoryIcon","sidebarIsOpen","sidebarIsClosed","SubMenu","handleToggle","isOpen","children","header","MenuItem","ListItemIcon","placement","Collapse","in","timeout","unmountOnExit","Menu","onMenuClick","logout","menuCatalog","menuSales","menuCustomers","setState","useSelector","ui","sidebarOpen","menu","DashboardMenuItem","categories","darkTheme","lightTheme","light","dark","contrastText","default","shape","borderRadius","overrides","RaMenuItemLink","borderLeft","active","MuiPaper","elevation1","boxShadow","border","backgroundClip","MuiButton","contained","MuiAppBar","colorSecondary","MuiLinearProgress","colorPrimary","barColorPrimary","MuiFilledInput","CustomSidebar","Sidebar","Layout","appBar","sidebar","minHeight","backgroundRepeat","backgroundSize","hint","renderInput","meta","touched","error","inputProps","Form","withTypes","Login","setLoading","login","useLogin","location","useLocation","auth","nextPathname","catch","message","username","noValidate","CircularProgress","thickness","Notification","LoginWithTheme","ThemeProvider","createMuiTheme","backgroundImage","publishArticleImage","Welcome","href","startIcon","cartoucheDark","cartouche","CardWithIcon","createElement","MonthlyRevenue","DollarIcon","NbNewOrders","ShoppingCartIcon","cost","text","PendingOrders","customers","nb_items","customer_name","overflowY","WebkitLineClamp","WebkitBoxOrient","PendingReviews","nb","CommentIcon","NewCustomers","aMonthAgo","useMemo","setDate","getDate","setHours","setMinutes","setSeconds","setMilliseconds","first_seen_gte","visitors","CustomerIcon","lastDay","toDateString","lastMonthDays","reverse","dateFormatter","getRevenuePerDay","daysWithRevenue","curr","day","aggregateOrdersByDay","OrderChart","dataKey","scale","domain","tickFormatter","reversed","unit","strokeDasharray","cursor","formatter","Intl","NumberFormat","format","labelFormatter","flexColumn","leftCol","rightCol","singleCol","Spacer","VerticalSpacer","Dashboard","useVersion","dataProvider","useDataProvider","fetchOrders","a","getList","date_gte","recentOrders","aggregations","stats","revenue","nbNewOrders","pendingOrders","maximumFractionDigits","getMany","pendingOrdersCustomers","customer","fetchReviews","nbPendingReviews","pendingReviews","slice","Math","min","review","pendingReviewsCustomers","Configuration","locale","useLocale","setLocale","useSetLocale","dispatch","useDispatch","Title","LinkToRelatedCustomers","Segments","exact","customEnglishMessages","englishMessages","pos","configuration","language","dashboard","monthly_revenue","month_history","new_orders","pending_reviews","new_customers","pending_orders","items","welcome","aor_button","demo_button","sales","catalog","fields","commands","first_seen","last_seen","total_spent","last_visited","today","this_week","last_week","this_month","last_month","earlier","group","fieldGroups","identity","change_password","delete","password_mismatch","amount","delivery","sum","unit_price","date_lte","total_gte","returned","command_id","height_gte","height_lte","stock_lte","width_gte","width_lte","details","description","relative_to_poster","detail","accept","notification","approved_success","approved_error","rejected_success","rejected_error","compulsive","collector","ordered_once","regular","returns","reviewer","then","factory","provider","i18nProvider","polyglotI18nProvider","messages","App","setDataProvider","restoreFetch","fakeServerFactory","process","REACT_APP_DATA_PROVIDER","dataProviderFactory","dataProviderInstance","fetchDataProvider","Admin","customReducers","customRoutes","loginPage","layout","Resource","ReactDOM","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.46e7e2a6.chunk.js","sourcesContent":["import { ThemeName } from '../types';\n\nexport const CHANGE_THEME = 'CHANGE_THEME';\n\nexport const changeTheme = (theme: ThemeName) => ({\n    type: CHANGE_THEME,\n    payload: theme,\n});\n","import { Reducer } from 'redux';\nimport { CHANGE_THEME, changeTheme } from './configuration/actions';\nimport { ThemeName } from './types';\n\ntype State = ThemeName;\ntype Action =\n    | ReturnType<typeof changeTheme>\n    | { type: 'OTHER_ACTION'; payload?: any };\n\nconst themeReducer: Reducer<State, Action> = (\n    previousState = 'light',\n    action\n) => {\n    if (action.type === CHANGE_THEME) {\n        return action.payload;\n    }\n    return previousState;\n};\n\nexport default themeReducer;\n","import * as React from 'react';\nimport { SVGProps } from 'react';\n\nconst Logo = (props: SVGProps<SVGSVGElement>) => (\n    <svg width={234.532} height={20.475} viewBox=\"0 0 62.053 5.417\" {...props}>\n        <g\n            aria-label=\"~Posters Galore~\"\n            style={{\n                lineHeight: 1.25,\n            }}\n            fontWeight={400}\n            fontSize={7.056}\n            fontFamily=\"Permanent Marker\"\n            letterSpacing={0}\n            wordSpacing={0}\n            strokeWidth={0.265}\n            fill=\"#4f3cc9\"\n        >\n            <path d=\"M.227 3.659Q.124 3.652.062 3.61 0 3.562 0 3.486q0-.068.062-.124.041-.103.083-.165L.24 3.06q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.103.048.165.09.07.04.131.096.076.04.118.09.048.04.082.089.02.027.083.09.062.061.151.061.083 0 .138-.075.062-.076.124-.131.055-.145.18-.22.055-.028.089-.035l.076-.014q.02-.007.041-.007l.035-.014.075-.007h.09q.117-.034.207-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.09.131l-.137.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.056.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035zM4.417 3.225q.007-.028.027-.021.028 0 .048-.007-.055-.055-.068-.145-.014-.096-.07-.158.014-.035.021-.069.014-.034.062-.028-.02-.151.007-.282.028-.131.083-.248.062-.117.138-.228.082-.117.158-.234.062-.014.076.014.014.02.048-.014.11-.076.152-.165.041-.097.041-.207.062-.179.138-.351.083-.18.186-.331.103-.152.22-.262.118-.117.255-.179.097-.083.242-.152.151-.068.316-.103.173-.041.352-.041.179-.007.33.034.035.014.042-.014Q7.228 0 7.255 0q.345.041.614.138.275.096.468.269.131.206.248.447.117.235.18.496.068.255.061.531-.007.276-.117.551-.241.303-.585.49-.345.179-.745.303-.392.117-.82.193-.42.075-.82.165.007.186 0 .4-.006.206-.048.42-.034.207-.11.406-.069.2-.193.372-.138-.006-.29.028-.144.034-.261.069l-.11-.069q-.049-.028-.124-.034.02-.083-.042-.173-.055-.09-.117-.172-.055-.09-.076-.172-.013-.09.083-.159-.055-.048-.055-.151.028.027.069.027-.014-.124.027-.296.049-.172.076-.338.035-.172.014-.31-.02-.144-.165-.206zm1.791-1.613l-.048.138q-.014.055-.035.103-.02.049-.048.097l-.048.11q.014.042.055.062.041.02.055.062.097-.048.193-.069.097-.027.193-.041.096-.014.193-.035.096-.02.2-.068.103-.049.213-.076l.228-.07q.11-.034.213-.075.104-.048.18-.124-.097-.09-.29-.158-.193-.07-.42-.083-.22-.02-.448.028-.22.048-.386.2zM12.506 3.1q-.007.083.013.16.021.075.049.15.034.07.062.145.027.076.041.152.014.096 0 .214-.014.11-.048.22-.035.103-.09.193-.055.083-.13.124-.097.124-.235.193-.138.069-.255.165-.076.048-.172.07l-.186.04q-.076.042-.18.09l-.213.083q-.11.034-.22.055-.11.014-.193.007-.207.076-.407.096-.193.028-.455-.027-.248.034-.461-.021-.207-.055-.372-.172-.159-.124-.283-.29-.117-.172-.193-.358-.055-.393.028-.71.083-.323.234-.592.159-.276.358-.503.2-.234.386-.455.042.014.062 0 .028-.02.048-.048.021-.035.042-.062.027-.028.062-.035.048-.103.138-.151.096-.055.151-.152.062-.014.104-.041.04-.028.075-.062.042-.035.083-.062.041-.035.097-.048v-.076q.124-.055.179-.124l.144-.18q.062-.006.097-.006.041 0 .117-.014.055-.096.096-.145.049-.048.138-.103.083.041.18.055.103.014.178.09.007.069.042.11.034.034.076.069.041.027.075.062.042.034.056.096.027.007.034-.007.014-.013.041-.007.021.097.049.131.027.028.055.117-.035.07-.055.145-.014.07-.083.104-.007.048.027.055.035 0 .042.034.007.062-.02.09.164.268.295.572.131.296.297.565zm-.862.655q.028-.076.07-.124.048-.048.054-.145-.034-.055-.04-.082-.008-.035-.008-.104-.151-.213-.262-.454-.11-.248-.248-.462-.013.028-.048.055-.034.028-.076-.014-.013.055-.048.083-.034.02-.076.02-.041-.006-.09-.02-.04-.02-.075-.048-.2.158-.4.31-.2.151-.358.351-.028.014-.034.014-.007-.007-.042.007-.055.13-.138.241-.075.103-.151.214-.076.11-.131.234-.055.124-.062.29.117.096.276.116.158.021.323.007.173-.013.331-.041.165-.034.303-.034.29-.07.496-.18.207-.117.434-.234zM12.898 2.067q.049-.145.152-.248.11-.103.234-.172.131-.076.269-.124t.262-.083q.275-.117.585-.22.317-.11.641-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.07.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.076.096.104 0 .18.049.075.048.124.117.048.069.069.151.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.082.09.13.2.014.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.138.007-.075 0-.158-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.44-.014.215-.048.4-.13.187-.083.352-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.076-.02q-.13-.076-.296-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.414-.124-.013-.035-.034-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145z\" />\n            <path d=\"M19.988 1.853q-.172 0-.372.028-.2.02-.392.048-.138.02-.27.035-.123.013-.226.02-.049.152-.097.27-.048.116-.103.226-.055.118-.104.242-.041.117-.082.255-.07.11-.117.206-.042.09-.07.207-.082.103-.123.22-.042.11-.062.193l-.028.083q-.041.041-.048.069-.007.02-.035.041-.007.076-.048.152-.014.034-.02.069-.007.027-.007.041 0 .069-.035.09.007.034 0 .075l-.014.07q-.02.082-.013.13l.034.049q.02.02.028.055.04.027.062.034.027.02.082.048l.062.07q.035.199-.062.316-.103.131-.351.131h-.083q-.034-.034-.041-.055l-.09-.034q-.034-.014-.062-.056-.09-.04-.144-.068l-.062-.035v-.083q-.049-.062-.076-.137-.02-.076-.035-.152-.013-.062-.034-.117-.014-.055-.041-.097-.014-.4.075-.675.09-.275.186-.53l.11-.276q.056-.145.097-.296l.062-.07.076-.178.069-.152q.02-.048.034-.09l.035-.082q-.042 0-.076.007-.035 0-.069.007l-.076.013h-.069q-.048 0-.069-.006-.075.034-.165.034H17.019q-.014-.007-.028-.007-.069 0-.11.02h-.228q-.013 0-.034.008h-.034q-.049 0-.104-.007-.055-.014-.117-.048-.082-.11-.11-.118l-.062-.082q-.007-.042-.02-.076-.014-.041-.028-.09-.028-.069-.055-.144-.021-.083-.021-.193.007-.055.028-.083l.034-.048.02-.104.09.007h.193q.22 0 .448-.013l.469-.042.275-.027.296-.028q.028-.062.056-.117l.068-.034q.124-.007.173.034.055.034.09.069l.302-.028q.159-.02.317-.048.235-.034.469-.062.241-.027.462-.027.096 0 .186.006.09.007.165.021l.069.048q.02.042.055.076l.083.069q.082.076.165.18.083.103.062.302-.055.083-.083.097l-.062.082-.069-.006q-.04 0-.075.013-.035.007-.07.021l-.054.028-.062.013h-.104q-.034-.007-.076-.007z\" />\n            <path d=\"M23.303 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.338.324-.186.082-.407.124-.22.034-.454.075-.228.042-.455.18-.09-.035-.166 0-.068.034-.206.02-.042.042-.104.062-.062.014-.124.035.028.062.021.13 0 .063.02.104.242.02.531-.007.297-.028.58-.034.006.034-.008.048-.014.007-.007.034.049.035.097.09l.096.096q.048.049.097.083.055.028.124.02.027.056.034.125.014.062-.014.13-.11.076-.22.159-.11.076-.234.138-.118.062-.255.103-.131.035-.297.028h-.055q-.014 0-.041-.02-.055.034-.159.02-.096-.014-.151.02-.076-.034-.186-.027-.104 0-.186-.028-.11.145-.2.31-.09.166-.159.352.235.034.386.027.159-.007.297-.02.137-.021.282-.035.145-.02.365-.014.138-.075.324-.096.193-.028.352-.083.055.021.096.076.041.048.076.097.041.04.082.075.042.035.104.028.027.027.034.069.014.034.02.069.008.034.022.062.02.02.062.013-.104.228-.242.352-.13.117-.303.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.04-.014-.096-.014-.158.035-.379.062-.22.028-.448.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.075-.11-.014-.07-.09-.104-.007-.09-.027-.2l-.042-.227q-.02-.124-.034-.24-.007-.118.014-.215.02-.103.082-.186.07-.082.048-.179.035-.007.042-.034.007-.035.055-.028.041-.124.09-.234.048-.11.096-.214.055-.103.103-.206.055-.11.104-.241-.097-.09-.145-.193-.041-.11-.062-.214-.02-.11-.035-.22-.013-.118-.048-.235.07-.103.166-.165.103-.069.22-.11.117-.042.255-.07.138-.027.29-.061.275-.09.489-.138.22-.048.427-.076.213-.034.44-.062.228-.027.518-.083.062.062.117.062.027-.062.062-.034.041.02.034-.041.07.117.172.2.11.075.242.13zM24.185 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.125.02-.034.035-.075.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.014-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.035 0-.056-.048-.02-.049-.048-.097.02-.124.042-.234.02-.11.048-.207.034-.096.055-.193.02-.096-.02-.2.027.021.04-.007.014-.034.021-.082.007-.055.007-.104 0-.055-.007-.09.07-.178.11-.364.049-.193.083-.38.041-.185.083-.364.041-.18.11-.331.076-.014.165.02.097.028.118.076.179-.138.317-.33.137-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.172.104.282.276.056.027.09.062.041.028.097.062v.083q.082.075.13.179.056.096.097.213l.083.228q.04.11.096.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.008.027 0 .076-.02.303-.199.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .02.035.166.103.262.165.097.062.18.103.09.042.186.076.103.028.282.07.18.04.276.068.103.02.186.041l.165.028.248.02q.062.063.104.152.048.083.062.172.013.083.006.166-.006.076-.048.124.007.02.028.02.027-.006.055 0-.041.028-.069.07l-.055.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.406-.165-.152-.076-.27-.145-.11-.075-.206-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.151.206-.069.11-.097.262.242-.027.503-.13.262-.111.496-.208-.027-.213-.151-.344-.117-.13-.248-.172zM27.01 2.067q.048-.145.151-.248.11-.103.234-.172.131-.076.27-.124.137-.048.26-.083.277-.117.587-.22.317-.11.64-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.069.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.077.096.103 0 .179.049.076.048.124.117t.069.151q.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.083.09.13.2.015.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.137.007-.076 0-.159-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.441-.014.214-.048.4-.13.186-.083.351-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.075-.02q-.131-.076-.297-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.413-.124-.014-.035-.035-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145zM32.797 3.535q0-.076.021-.138.02-.062.007-.159.213-.454.482-.84.276-.393.655-.69.062-.047.096-.096.042-.055.076-.103.041-.048.09-.083.048-.041.124-.055.172-.2.413-.365.241-.165.503-.317t.524-.31q.268-.159.482-.345.076.049.117.035.048-.02.097-.007.062.13.158.186.103.048.207.103.11.049.2.124.096.07.144.193-.048 0-.048.035.007.034.02.076.014.04.014.075 0 .035-.062.035 0 .048.049.048.048 0 .048.048 0 .042-.02.07-.015.02 0 .075-.166.11-.373.214l-.427.206q-.22.11-.455.241-.227.124-.455.29-.227.165-.461.365-.228.2-.441.427-.214.22-.4.462-.186.234-.317.461.014.035.035.062.027.028.041.063.262.013.49 0 .227-.021.454.027.028-.02.034-.055.007-.035.042-.048.468-.049.875-.152.406-.11.827-.22-.124-.049-.22-.076-.042-.041 0-.069.047-.034.075-.069-.11-.062-.186-.165-.069-.104-.083-.269.049-.041.049-.096 0-.056-.049-.09-.034-.014-.041 0l-.014.027q0 .014-.014.028-.007.014-.034 0 .007-.076.034-.124.028-.048.042-.117l.572-.38q.09.07.22.146.131.075.276.151.144.076.296.159.152.075.282.151.125.055.214.138.09.076.172.165l.166.166q.082.082.2.138-.014.11.013.179.028.069.014.165-.13.234-.317.4-.186.158-.42.275-.228.117-.49.2-.261.076-.537.152-.275.069-.558.151-.276.076-.544.18-.117 0-.2.006-.083.007-.159.021l-.151.028q-.076.013-.165.02-.035-.007-.049.014-.007.02-.027.035-.138.02-.248.02h-.186q-.097 0-.2.028-.104.027-.193.02-.62-.027-.972-.44-.351-.414-.385-1.137.006-.035-.014-.042-.02-.014-.035-.027z\" />\n            <path d=\"M42.01 4.589q-.042.117-.125.241-.075.117-.186.214-.103.09-.234.151-.13.062-.275.07-.09-.022-.124-.05-.028-.02-.062-.04-.021-.014-.042-.021-.014-.014-.027-.02l-.083-.035.028-.09q.013-.055-.007-.083-.021-.034-.083-.09l-.041-.04q-.021-.021-.035-.042l-.117-.13.186-.049q.172-.048.227-.124.062-.076.049-.255-.138-.027-.235-.007-.09.02-.186.048-.124.035-.255.062-.124.021-.275.021h-.104l-.103-.014-.069-.013q-.014-.076-.027-.083l-.028-.028q-.034-.034-.076-.09-.034-.061-.013-.15-.035-.063-.042-.125-.041.083-.062.172l-.027.07-.07.013q-.013.007-.02.035-.007.02-.007.034l-.034.117-.028.028q-.014.007-.027.02-.014.062-.035.124-.02.062-.041.118-.035.09-.062.179-.02.082-.014.165l-.028.076q-.034.041-.075.069l-.083.041q-.014.014-.041.028l-.035.013-.02.076-.083.014-.11.02q-.028.008-.07.008l-.068-.007-.117-.097q-.042-.041-.097-.076-.062-.082-.069-.124l-.014-.075q-.013-.042-.013-.07-.007-.027-.021-.04l-.09-.083.076-.062.007-.117q.138-.352.29-.676l.323-.661q.056-.11.104-.22l.11-.221q-.007-.02-.007-.048t.014-.062q.076-.118.124-.207l.096-.193q.055-.117.11-.227.063-.11.152-.228l.11-.048.049-.014q.027-.014.062-.014l.103.014q.193-.09.338-.248.144-.165.296-.393l.069-.096.09.055q.034.02.096.041.062.014.13.035.125.027.235.062.11.034.18.103.04.11.047.166.007.055.021.11.02.117.035.234.02.117.027.262.035.117.055.234.028.11.048.228l.07.323q.034.152.089.29.055 0 .069.007.034-.014.069-.021l.09-.014.075-.007.028.07q.007.034.069.068.09.007.13.042.042.027.076.062.028.027.055.04l.104.042-.055.104q-.07.124-.2.24-.124.111-.283.187.007.041.007.082.007.035.02.076.022.117.035.241.014.124 0 .255zm-1.992-1.192q.207-.014.372-.028.173-.02.38-.062-.049-.206-.104-.427-.055-.227-.117-.448l-.042.07q-.137.144-.268.323-.124.18-.214.338l-.083.124q-.04.062-.075.124.041-.007.075-.007.042 0 .076-.007zM44.29 5.092q-.193.062-.42.124-.228.062-.455.062-.344 0-.544-.172-.035-.076-.062-.104l-.042-.055q-.013-.034-.02-.09-.083-.096-.131-.22-.048-.13-.07-.262-.013-.138-.006-.275.014-.138.048-.262.014-.028.014-.055l.014-.062q.027-.11.055-.214.034-.103.09-.179-.028-.062 0-.138.027-.076.061-.138.097-.261.159-.44.069-.187.138-.366.117-.31.22-.613.104-.303.186-.655.055-.034.083-.048.041-.014.069-.02.124.062.29.124.165.055.275.055.055.034.069.055l.027.027q.076.09.131.186.055.09.035.242-.042.062-.062.062-.035.137-.076.234-.035.096-.076.193-.048.103-.09.206-.04.104-.068.255-.028.035-.042.062-.007.028-.02.062-.014.035-.035.076-.014.035-.048.062-.02.18-.069.29-.041.11-.09.22-.082.2-.151.4-.062.2-.076.454.035-.013.062-.013h.062q.062 0 .145.02.207-.11.448-.13.248-.021.489-.028H45q.096 0 .179-.014.062.035.076.041h.055q.048 0 .083.007.082.076.158.11.076.035.159.063.075.027.144.062.076.027.145.082l.048.297q.048.062.041.082 0 .055-.027.083l.014.076q-.104.02-.145.048-.034.027-.069.062-.055.007-.083.007h-.04q-.097 0-.235.034-.186-.062-.386-.062-.076 0-.159.007l-.165.014q-.083.014-.172.02-.083.008-.172.008zM50.25 3.1q-.007.083.014.16.02.075.048.15.035.07.062.145.028.076.041.152.014.096 0 .214-.013.11-.048.22-.034.103-.09.193-.054.083-.13.124-.097.124-.235.193-.137.069-.254.165-.076.048-.173.07l-.186.04q-.076.042-.179.09l-.213.083q-.11.034-.221.055-.11.014-.193.007-.207.076-.406.096-.193.028-.455-.027-.248.034-.462-.021-.207-.055-.372-.172-.158-.124-.282-.29-.118-.172-.193-.358-.055-.393.027-.71.083-.323.235-.592.158-.276.358-.503.2-.234.386-.455.041.014.062 0 .027-.02.048-.048.02-.035.041-.062.028-.028.062-.035.048-.103.138-.151.097-.055.152-.152.062-.014.103-.041.041-.028.076-.062.041-.035.082-.062.042-.035.097-.048v-.076q.124-.055.18-.124l.144-.18q.062-.006.096-.006.042 0 .117-.014.056-.096.097-.145.048-.048.138-.103.082.041.179.055.103.014.179.09.007.069.041.11.035.034.076.069.041.027.076.062.041.034.055.096.028.007.034-.007.014-.013.042-.007.02.097.048.131.028.028.055.117-.034.07-.055.145-.014.07-.083.104-.007.048.028.055.034 0 .041.034.007.062-.02.09.165.268.296.572.13.296.296.565zm-.861.655q.027-.076.069-.124.048-.048.055-.145-.035-.055-.041-.082-.007-.035-.007-.104-.152-.213-.262-.454-.11-.248-.248-.462-.014.028-.048.055-.035.028-.076-.014-.014.055-.048.083-.035.02-.076.02-.042-.006-.09-.02-.041-.02-.076-.048-.2.158-.4.31-.2.151-.358.351-.027.014-.034.014-.007-.007-.041.007-.055.13-.138.241-.076.103-.152.214-.076.11-.13.234-.056.124-.063.29.118.096.276.116.158.021.324.007.172-.013.33-.041.166-.034.304-.034.29-.07.496-.18.207-.117.434-.234zM51.78 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.124.02-.035.035-.076.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.013-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.034 0-.055-.048-.02-.049-.048-.097.02-.124.04-.234.022-.11.05-.207.034-.096.054-.193.02-.096-.02-.2.027.021.04-.007.015-.034.022-.082.007-.055.007-.104 0-.055-.007-.09.068-.178.11-.364.048-.193.082-.38l.083-.364q.041-.18.11-.331.076-.014.166.02.096.028.117.076.179-.138.317-.33.138-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.173.104.283.276.055.027.09.062.04.028.096.062v.083q.083.075.13.179.056.096.097.213.042.11.083.228.041.11.097.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.007.027 0 .076-.02.303-.2.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .021.035.166.103.262.165.097.062.18.103.089.042.185.076.104.028.283.07.179.04.275.068.104.02.186.041l.166.028.248.02q.062.063.103.152.048.083.062.172.014.083.007.166-.007.076-.048.124.007.02.028.02.027-.006.055 0-.042.028-.07.07l-.054.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.407-.165-.151-.076-.268-.145-.11-.075-.207-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.15.206-.07.11-.097.262.24-.027.503-.13.261-.111.496-.208-.028-.213-.152-.344-.117-.13-.248-.172zM58.332 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.337.324-.186.082-.407.124-.22.034-.455.075-.227.042-.454.18-.09-.035-.166 0-.069.034-.207.02-.04.042-.103.062-.062.014-.124.035.028.062.02.13 0 .063.021.104.242.02.531-.007.296-.028.579-.034.007.034-.007.048-.014.007-.007.034.048.035.096.09l.097.096q.048.049.096.083.055.028.124.02.028.056.035.125.014.062-.014.13-.11.076-.22.159-.11.076-.235.138-.117.062-.255.103-.13.035-.296.028h-.055q-.014 0-.041-.02-.056.034-.159.02-.096-.014-.152.02-.075-.034-.186-.027-.103 0-.186-.028-.11.145-.2.31-.089.166-.158.352.234.034.386.027.158-.007.296-.02.138-.021.283-.035.144-.02.365-.014.138-.075.324-.096.193-.028.351-.083.055.021.097.076.041.048.075.097.042.04.083.075.041.035.104.028.027.027.034.069.014.034.02.069.008.034.021.062.021.02.062.013-.103.228-.24.352-.132.117-.304.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.041-.014-.096-.014-.159.035-.38.062-.22.028-.447.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.076-.11-.013-.07-.09-.104-.006-.09-.027-.2l-.041-.227q-.02-.124-.035-.24-.007-.118.014-.215.02-.103.083-.186.069-.082.048-.179.035-.007.041-.034.007-.035.056-.028.04-.124.09-.234.047-.11.096-.214.055-.103.103-.206.055-.11.103-.241-.096-.09-.144-.193-.042-.11-.062-.214-.021-.11-.035-.22-.014-.118-.048-.235.069-.103.165-.165.104-.069.22-.11.118-.042.256-.07.138-.027.29-.061.275-.09.488-.138.22-.048.427-.076.214-.034.441-.062.228-.027.517-.083.062.062.117.062.028-.062.062-.034.042.02.035-.041.069.117.172.2.11.075.241.13zM58.394 3.659q-.103-.007-.165-.049-.062-.048-.062-.124 0-.068.062-.124.041-.103.083-.165l.096-.138q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.104.048.166.09.068.04.13.096.076.04.118.09.048.04.082.089.021.027.083.09.062.061.152.061.082 0 .137-.075.062-.076.124-.131.056-.145.18-.22.055-.028.09-.035l.075-.014q.02-.007.041-.007.021-.007.035-.014l.076-.007h.09q.116-.034.206-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.089.131l-.138.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.055.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035z\" />\n        </g>\n    </svg>\n);\n\nexport default Logo;\n","import * as React from 'react';\nimport { forwardRef } from 'react';\nimport { AppBar, UserMenu, MenuItemLink, useTranslate } from 'react-admin';\nimport Typography from '@material-ui/core/Typography';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Logo from './Logo';\n\nconst useStyles = makeStyles({\n    title: {\n        flex: 1,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n    },\n    spacer: {\n        flex: 1,\n    },\n});\n\nconst ConfigurationMenu = forwardRef<any, any>((props, ref) => {\n    const translate = useTranslate();\n    return (\n        <MenuItemLink\n            ref={ref}\n            to=\"/configuration\"\n            primaryText={translate('pos.configuration')}\n            leftIcon={<SettingsIcon />}\n            onClick={props.onClick}\n        />\n    );\n});\n\nconst CustomUserMenu = (props: any) => (\n    <UserMenu {...props}>\n        <ConfigurationMenu />\n    </UserMenu>\n);\n\nconst CustomAppBar = (props: any) => {\n    const classes = useStyles();\n    return (\n        <AppBar {...props} elevation={1} userMenu={<CustomUserMenu />}>\n            <Typography\n                variant=\"h6\"\n                color=\"inherit\"\n                className={classes.title}\n                id=\"react-admin-title\"\n            />\n            <Logo />\n            <span className={classes.spacer} />\n        </AppBar>\n    );\n};\n\nexport default CustomAppBar;\n","export default [\n    { id: 'compulsive', name: 'resources.segments.data.compulsive' },\n    { id: 'collector', name: 'resources.segments.data.collector' },\n    { id: 'ordered_once', name: 'resources.segments.data.ordered_once' },\n    { id: 'regular', name: 'resources.segments.data.regular' },\n    { id: 'returns', name: 'resources.segments.data.returns' },\n    { id: 'reviewer', name: 'resources.segments.data.reviewer' },\n];\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport { useTranslate } from 'react-admin';\nimport segments from '../segments/data';\nimport { FieldProps, Customer } from '../types';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n    main: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        marginTop: -8,\n        marginBottom: -8,\n    },\n    chip: { margin: 4 },\n});\n\nconst SegmentsField: FC<FieldProps<Customer>> = ({ record }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    return record ? (\n        <span className={classes.main}>\n            {record.groups &&\n                record.groups.map(segmentId => {\n                    const segment = segments.find(s => s.id === segmentId);\n\n                    return segment ? (\n                        <Chip\n                            size=\"small\"\n                            key={segment.id}\n                            className={classes.chip}\n                            label={translate(segment.name)}\n                        />\n                    ) : null;\n                })}\n        </span>\n    ) : null;\n};\n\nSegmentsField.defaultProps = {\n    addLabel: true,\n    source: 'groups',\n};\n\nexport default SegmentsField;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { useTranslate, SelectInput } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { InputProps } from 'ra-core';\n\nimport segments from '../segments/data';\n\nconst useStyles = makeStyles({\n    input: { width: 150 },\n});\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentInput: FC<Props> = props => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <SelectInput\n            {...props}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n            className={classes.input}\n        />\n    );\n};\n\nSegmentInput.defaultProps = {\n    source: 'groups',\n};\n\nexport default SegmentInput;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport { Customer, FieldProps } from '../types';\n\ninterface Props extends FieldProps<Customer> {\n    className?: string;\n    size?: string;\n}\n\nconst AvatarField: FC<Props> = ({ record, size = '25', className }) =>\n    record ? (\n        <Avatar\n            src={`${record.avatar}?size=${size}x${size}`}\n            style={{ width: parseInt(size, 10), height: parseInt(size, 10) }}\n            className={className}\n        />\n    ) : null;\n\nexport default AvatarField;\n","import * as React from 'react';\nimport { FC, memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport AvatarField from './AvatarField';\nimport { FieldProps, Customer } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'nowrap',\n        alignItems: 'center',\n    },\n    avatar: {\n        marginRight: theme.spacing(1),\n        marginTop: -theme.spacing(0.5),\n        marginBottom: -theme.spacing(0.5),\n    },\n}));\n\ninterface Props extends FieldProps<Customer> {\n    size?: string;\n}\n\nconst FullNameField: FC<Props> = ({ record, size }) => {\n    const classes = useStyles();\n    return record ? (\n        <div className={classes.root}>\n            <AvatarField\n                className={classes.avatar}\n                record={record}\n                size={size}\n            />\n            {record.first_name} {record.last_name}\n        </div>\n    ) : null;\n};\n\nFullNameField.defaultProps = {\n    source: 'last_name',\n    label: 'resources.customers.fields.name',\n};\n\nexport default memo<Props>(FullNameField);\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Link } from 'react-admin';\n\nimport FullNameField from './FullNameField';\nimport { FieldProps, Customer } from '../types';\n\nconst CustomerLinkField: FC<FieldProps<Customer>> = props =>\n    props.record ? (\n        <Link to={`/customers/${props.record.id}`}>\n            <FullNameField {...props} />\n        </Link>\n    ) : null;\n\nCustomerLinkField.defaultProps = {\n    source: 'customer_id',\n    addLabel: true,\n};\n\nexport default CustomerLinkField;\n","import * as React from 'react';\nimport { ComponentType } from 'react';\nimport { NumberField } from 'react-admin';\nimport { FieldProps } from '../types';\n\nconst colored = <T extends FieldProps>(\n    WrappedComponent: ComponentType<T>\n): ComponentType<T> => {\n    const Colored = (props: T) =>\n        props.record && props.source ? (\n            props.record[props.source] > 500 ? (\n                <span style={{ color: 'red' }}>\n                    <WrappedComponent {...props} />\n                </span>\n            ) : (\n                <WrappedComponent {...props} />\n            )\n        ) : null;\n\n    Colored.displayName = `Colored(${WrappedComponent.displayName})`;\n\n    return Colored;\n};\n\nconst ColoredNumberField = colored<typeof NumberField>(NumberField);\nColoredNumberField.defaultProps = NumberField.defaultProps;\n\nexport default ColoredNumberField;\n","// in src/comments.js\nimport * as React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { DateField, EditButton, useTranslate, NumberField } from 'react-admin';\n\nimport AvatarField from './AvatarField';\nimport ColoredNumberField from './ColoredNumberField';\nimport SegmentsField from './SegmentsField';\nimport { Identifier } from 'ra-core';\nimport { Customer } from '../types';\nimport { FC } from 'react';\n\nconst useStyles = makeStyles(theme => ({\n    root: { margin: '1em' },\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: {\n        ...theme.typography.body1,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n}));\n\ninterface Props {\n    ids?: Identifier[];\n    data?: { [key: string]: Customer };\n    basePath?: string;\n}\n\nconst MobileGrid: FC<Props> = ({ ids, data, basePath }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    if (!ids || !data) {\n        return null;\n    }\n\n    return (\n        <div className={classes.root}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <h2>{`${data[id].first_name} ${\n                                    data[id].last_name\n                                }`}</h2>\n                                <EditButton\n                                    resource=\"visitors\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                        avatar={<AvatarField record={data[id]} size=\"45\" />}\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.last_seen_gte'\n                            )}\n                            &nbsp;\n                            <DateField\n                                record={data[id]}\n                                source=\"last_seen\"\n                                type=\"date\"\n                            />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.commands.name',\n                                data[id].nb_commands || 1\n                            )}\n                            &nbsp;:&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"nb_commands\"\n                                label=\"resources.customers.fields.commands\"\n                            />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.total_spent'\n                            )}\n                            &nbsp; :{' '}\n                            <ColoredNumberField\n                                record={data[id]}\n                                source=\"total_spent\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </div>\n                    </CardContent>\n                    {data[id].groups && data[id].groups.length > 0 && (\n                        <CardContent className={classes.cardContent}>\n                            <SegmentsField record={data[id]} />\n                        </CardContent>\n                    )}\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import * as React from 'react';\nimport { FC, ChangeEvent } from 'react';\nimport {\n    Box,\n    Card,\n    CardContent,\n    Typography,\n    IconButton,\n    InputAdornment,\n    List,\n    ListItem,\n    ListItemText,\n    ListItemSecondaryAction,\n} from '@material-ui/core';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport SearchIcon from '@material-ui/icons/Search';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOnOutlined';\nimport MailIcon from '@material-ui/icons/MailOutline';\nimport LocalOfferIcon from '@material-ui/icons/LocalOfferOutlined';\nimport CancelIcon from '@material-ui/icons/CancelOutlined';\nimport { Form } from 'react-final-form';\nimport { TextInput, useTranslate } from 'react-admin';\nimport {\n    endOfYesterday,\n    startOfWeek,\n    subWeeks,\n    startOfMonth,\n    subMonths,\n} from 'date-fns';\n\nimport segments from '../segments/data';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up('sm')]: {\n            order: -1,\n            width: '15em',\n            marginRight: '1em',\n        },\n        [theme.breakpoints.down('sm')]: {\n            display: 'none',\n        },\n    },\n    listItem: {\n        paddingLeft: '2em',\n    },\n    listItemText: {\n        margin: 0,\n    },\n}));\n\nconst Aside: FC = props => {\n    const { filterValues, setFilters } = props as any;\n    const classes = useStyles(props);\n    const translate = useTranslate();\n\n    const setFilter = (values: any) => {\n        setFilters({ ...filterValues, ...values });\n    };\n\n    const onSearchChange = (event: ChangeEvent<HTMLInputElement>) => {\n        setFilter({ q: event.target ? event.target.value : undefined });\n    };\n\n    const onSubmit = () => undefined;\n\n    // defining this component here allows to skip passing filterValues and setFilter as props\n    const FilterButton: FC<{ label: string; value: any }> = props => {\n        const { label, value } = props;\n        const isSelected = Object.keys(value).reduce(\n            (acc, key) => acc && value[key] == filterValues[key], // eslint-disable-line eqeqeq\n            true\n        );\n        const addFilter = () => {\n            if (isSelected) {\n                // remove the filter\n                const inverseValues = Object.keys(value).reduce(\n                    (acc, key) => {\n                        acc[key] = undefined;\n                        return acc;\n                    },\n                    {} as any\n                );\n                setFilter(inverseValues);\n            } else {\n                setFilter(value);\n            }\n        };\n        return (\n            <ListItem\n                button\n                onClick={addFilter}\n                selected={isSelected}\n                className={classes.listItem}\n            >\n                <ListItemText\n                    primary={translate(label)}\n                    className={classes.listItemText}\n                />\n                {isSelected && (\n                    <ListItemSecondaryAction>\n                        <IconButton size=\"small\" onClick={addFilter}>\n                            <CancelIcon />\n                        </IconButton>\n                    </ListItemSecondaryAction>\n                )}\n            </ListItem>\n        );\n    };\n\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <Form onSubmit={onSubmit} initialValues={filterValues}>\n                    {({ handleSubmit }) => (\n                        <TextInput\n                            resettable\n                            helperText={false}\n                            source=\"q\"\n                            label=\"Search\"\n                            InputProps={{\n                                endAdornment: (\n                                    <InputAdornment position=\"end\">\n                                        <SearchIcon color=\"disabled\" />\n                                    </InputAdornment>\n                                ),\n                            }}\n                            onChange={onSearchChange}\n                        />\n                    )}\n                </Form>\n\n                <FilterSection\n                    icon={AccessTimeIcon}\n                    label=\"resources.customers.filters.last_visited\"\n                />\n                <List dense disablePadding>\n                    <FilterButton\n                        value={{\n                            last_seen_gte: endOfYesterday().toISOString(),\n                            last_seen_lte: undefined,\n                        }}\n                        label=\"resources.customers.filters.today\"\n                    />\n                    <FilterButton\n                        value={{\n                            last_seen_gte: startOfWeek(\n                                new Date()\n                            ).toISOString(),\n                            last_seen_lte: undefined,\n                        }}\n                        label=\"resources.customers.filters.this_week\"\n                    />\n                    <FilterButton\n                        value={{\n                            last_seen_gte: subWeeks(\n                                startOfWeek(new Date()),\n                                1\n                            ).toISOString(),\n                            last_seen_lte: startOfWeek(\n                                new Date()\n                            ).toISOString(),\n                        }}\n                        label=\"resources.customers.filters.last_week\"\n                    />\n                    <FilterButton\n                        value={{\n                            last_seen_gte: startOfMonth(\n                                new Date()\n                            ).toISOString(),\n                            last_seen_lte: undefined,\n                        }}\n                        label=\"resources.customers.filters.this_month\"\n                    />\n                    <FilterButton\n                        value={{\n                            last_seen_gte: subMonths(\n                                startOfMonth(new Date()),\n                                1\n                            ).toISOString(),\n                            last_seen_lte: startOfMonth(\n                                new Date()\n                            ).toISOString(),\n                        }}\n                        label=\"resources.customers.filters.last_month\"\n                    />\n                    <FilterButton\n                        value={{\n                            last_seen_gte: undefined,\n                            last_seen_lte: subMonths(\n                                startOfMonth(new Date()),\n                                1\n                            ).toISOString(),\n                        }}\n                        label=\"resources.customers.filters.earlier\"\n                    />\n                </List>\n\n                <FilterSection\n                    icon={MonetizationOnIcon}\n                    label=\"resources.customers.filters.has_ordered\"\n                />\n                <List dense disablePadding>\n                    <FilterButton\n                        value={{ has_ordered: true }}\n                        label=\"ra.boolean.true\"\n                    />\n                    <FilterButton\n                        value={{ has_ordered: false }}\n                        label=\"ra.boolean.false\"\n                    />\n                </List>\n\n                <FilterSection\n                    icon={MailIcon}\n                    label=\"resources.customers.filters.has_newsletter\"\n                />\n                <List dense disablePadding>\n                    <FilterButton\n                        value={{ has_newsletter: true }}\n                        label=\"ra.boolean.true\"\n                    />\n                    <FilterButton\n                        value={{ has_newsletter: false }}\n                        label=\"ra.boolean.false\"\n                    />\n                </List>\n\n                <FilterSection\n                    icon={LocalOfferIcon}\n                    label=\"resources.customers.filters.group\"\n                />\n                <List dense disablePadding>\n                    {segments.map(segment => (\n                        <FilterButton\n                            value={{ groups: segment.id }}\n                            label={segment.name}\n                            key={segment.id}\n                        />\n                    ))}\n                </List>\n            </CardContent>\n        </Card>\n    );\n};\n\nconst FilterSection: FC<{ label: string; icon: FC }> = ({\n    label,\n    icon: Icon,\n}) => {\n    const translate = useTranslate();\n    return (\n        <Box mt={2} display=\"flex\" alignItems=\"center\">\n            <Box mr={1}>\n                <Icon />\n            </Box>\n            <Typography variant=\"overline\">{translate(label)}</Typography>\n        </Box>\n    );\n};\n\nexport default Aside;\n","import * as React from 'react';\nimport {\n    BooleanField,\n    Datagrid,\n    DateField,\n    DateInput,\n    Filter,\n    List,\n    NullableBooleanInput,\n    NumberField,\n    SearchInput,\n} from 'react-admin';\nimport { useMediaQuery, Theme } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport SegmentsField from './SegmentsField';\nimport SegmentInput from './SegmentInput';\nimport CustomerLinkField from './CustomerLinkField';\nimport ColoredNumberField from './ColoredNumberField';\nimport MobileGrid from './MobileGrid';\nimport VisitorListAside from './VisitorListAside';\n\nconst VisitorFilter = (props: any) => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <DateInput source=\"last_seen_gte\" />\n        <NullableBooleanInput source=\"has_ordered\" />\n        <NullableBooleanInput source=\"has_newsletter\" defaultValue />\n        <SegmentInput />\n    </Filter>\n);\n\nconst useStyles = makeStyles({\n    nb_commands: { color: 'purple' },\n});\n\nconst VisitorList = (props: any) => {\n    const classes = useStyles();\n    const isXsmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('sm'));\n    return (\n        <List\n            {...props}\n            filters={isSmall ? <VisitorFilter /> : null}\n            sort={{ field: 'last_seen', order: 'DESC' }}\n            perPage={25}\n            aside={<VisitorListAside />}\n        >\n            {isXsmall ? (\n                <MobileGrid />\n            ) : (\n                <Datagrid optimized rowClick=\"edit\">\n                    <CustomerLinkField />\n                    <DateField source=\"last_seen\" type=\"date\" />\n                    <NumberField\n                        source=\"nb_commands\"\n                        label=\"resources.customers.fields.commands\"\n                        className={classes.nb_commands}\n                    />\n                    <ColoredNumberField\n                        source=\"total_spent\"\n                        options={{ style: 'currency', currency: 'USD' }}\n                    />\n                    <DateField source=\"latest_purchase\" showTime />\n                    <BooleanField\n                        source=\"has_newsletter\"\n                        label=\"News.\"\n                        size=\"small\"\n                    />\n                    <SegmentsField />\n                </Datagrid>\n            )}\n        </List>\n    );\n};\n\nexport default VisitorList;\n","import * as React from 'react';\nimport {\n    Create,\n    DateInput,\n    SimpleForm,\n    TextInput,\n    useTranslate,\n    PasswordInput,\n    required,\n    email,\n} from 'react-admin';\nimport { Typography, Box } from '@material-ui/core';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\nimport { Styles } from '@material-ui/styles/withStyles';\n\nexport const styles: Styles<Theme, any> = {\n    first_name: { display: 'inline-block' },\n    last_name: { display: 'inline-block', marginLeft: 32 },\n    email: { width: 544 },\n    address: { maxWidth: 544 },\n    zipcode: { display: 'inline-block' },\n    city: { display: 'inline-block', marginLeft: 32 },\n    comment: {\n        maxWidth: '20em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n    password: { display: 'inline-block' },\n    confirm_password: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nexport const validatePasswords = ({\n    password,\n    confirm_password,\n}: {\n    password: string;\n    confirm_password: string;\n}) => {\n    const errors = {} as any;\n\n    if (password && confirm_password && password !== confirm_password) {\n        errors.confirm_password = [\n            'resources.customers.errors.password_mismatch',\n        ];\n    }\n\n    return errors;\n};\n\nconst VisitorCreate = (props: any) => {\n    const classes = useStyles();\n\n    return (\n        <Create {...props}>\n            <SimpleForm validate={validatePasswords}>\n                <SectionTitle label=\"resources.customers.fieldGroups.identity\" />\n                <TextInput\n                    autoFocus\n                    source=\"first_name\"\n                    formClassName={classes.first_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    source=\"last_name\"\n                    formClassName={classes.last_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    type=\"email\"\n                    source=\"email\"\n                    validation={{ email: true }}\n                    fullWidth\n                    formClassName={classes.email}\n                    validate={[required(), email()]}\n                />\n                <DateInput source=\"birthday\" />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.address\" />\n                <TextInput\n                    source=\"address\"\n                    formClassName={classes.address}\n                    multiline\n                    fullWidth\n                    helperText={false}\n                />\n                <TextInput\n                    source=\"zipcode\"\n                    formClassName={classes.zipcode}\n                    helperText={false}\n                />\n                <TextInput\n                    source=\"city\"\n                    formClassName={classes.city}\n                    helperText={false}\n                />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.password\" />\n                <PasswordInput\n                    source=\"password\"\n                    formClassName={classes.password}\n                />\n                <PasswordInput\n                    source=\"confirm_password\"\n                    formClassName={classes.confirm_password}\n                />\n            </SimpleForm>\n        </Create>\n    );\n};\n\nconst requiredValidate = [required()];\n\nconst SectionTitle = ({ label }: { label: string }) => {\n    const translate = useTranslate();\n\n    return (\n        <Typography variant=\"h6\" gutterBottom>\n            {translate(label)}\n        </Typography>\n    );\n};\n\nconst Separator = () => <Box pt=\"1em\" />;\n\nexport default VisitorCreate;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { FunctionField } from 'react-admin';\nimport { Order, FieldProps } from '../types';\n\nconst render = (record: Order) => record.basket.length;\n\ninterface NbItemsFieldProps extends FieldProps {\n    textAlign?: string;\n}\n\nconst NbItemsField: FC<NbItemsFieldProps> = props => (\n    <FunctionField {...props} render={render} />\n);\n\nNbItemsField.defaultProps = {\n    label: 'Nb Items',\n    textAlign: 'right',\n};\n\nexport default NbItemsField;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { ReferenceField } from 'react-admin';\n\nimport FullNameField from './FullNameField';\nimport { ReferenceFieldProps } from '../types';\n\nconst CustomerReferenceField: FC<\n    Omit<ReferenceFieldProps, 'reference' | 'children'>\n> = props => (\n    <ReferenceField source=\"customer_id\" reference=\"customers\" {...props}>\n        <FullNameField />\n    </ReferenceField>\n);\n\nCustomerReferenceField.defaultProps = {\n    source: 'customer_id',\n    addLabel: true,\n};\n\nexport default CustomerReferenceField;\n","// in src/comments.js\nimport * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    DateField,\n    EditButton,\n    NumberField,\n    TextField,\n    BooleanField,\n    useTranslate,\n} from 'react-admin';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport { RecordMap, Identifier, Record } from 'ra-core';\n\nconst useListStyles = makeStyles(theme => ({\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: theme.typography.body1,\n    cardContentRow: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        margin: '0.5rem 0',\n    },\n}));\n\ninterface MobileGridProps {\n    ids?: Identifier[];\n    data?: RecordMap<Record>;\n    basePath?: string;\n}\n\nconst MobileGrid: FC<MobileGridProps> = ({ ids, data, basePath }) => {\n    const translate = useTranslate();\n    const classes = useListStyles();\n\n    if (!ids || !data || !basePath) {\n        return null;\n    }\n\n    return (\n        <div style={{ margin: '1em' }}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <span>\n                                    {translate('resources.commands.name', 1)}\n                                    :&nbsp;\n                                    <TextField\n                                        record={data[id]}\n                                        source=\"reference\"\n                                    />\n                                </span>\n                                <EditButton\n                                    resource=\"commands\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.customers.name', 1)}:&nbsp;\n                            <CustomerReferenceField\n                                record={data[id]}\n                                basePath={basePath}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.reviews.fields.date')}:&nbsp;\n                            <DateField\n                                record={data[id]}\n                                source=\"date\"\n                                showTime\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                            :&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"total\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.status')}\n                            :&nbsp;\n                            <TextField source=\"status\" record={data[id]} />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.returned')}\n                            :&nbsp;\n                            <BooleanField record={data[id]} source=\"returned\" />\n                        </span>\n                    </CardContent>\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import * as React from 'react';\nimport { FC, Fragment, useCallback, useEffect, useState } from 'react';\nimport {\n    AutocompleteInput,\n    BooleanField,\n    Datagrid,\n    DateField,\n    DateInput,\n    Filter,\n    List,\n    NullableBooleanInput,\n    NumberField,\n    ReferenceInput,\n    SearchInput,\n    TextField,\n    TextInput,\n} from 'react-admin';\nimport { useMediaQuery, Divider, Tabs, Tab, Theme } from '@material-ui/core';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport NbItemsField from './NbItemsField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport MobileGrid from './MobileGrid';\nimport {\n    Customer,\n    FilterProps,\n    OrderStatus,\n    DatagridProps,\n    Order,\n    ListComponentProps,\n} from '../types';\nimport { Identifier } from 'ra-core';\n\ninterface FilterParams {\n    q?: string;\n    customer_id?: string;\n    date_gte?: string;\n    date_lte?: string;\n    total_gte?: string;\n    returned?: boolean;\n    status?: OrderStatus;\n}\n\nconst OrderFilter: FC<FilterProps<FilterParams>> = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <ReferenceInput source=\"customer_id\" reference=\"customers\">\n            <AutocompleteInput\n                optionText={(choice: Customer) =>\n                    choice.first_name && choice.last_name\n                        ? `${choice.first_name} ${choice.last_name}`\n                        : ''\n                }\n            />\n        </ReferenceInput>\n        <DateInput source=\"date_gte\" />\n        <DateInput source=\"date_lte\" />\n        <TextInput source=\"total_gte\" />\n        <NullableBooleanInput source=\"returned\" />\n    </Filter>\n);\n\nconst useDatagridStyles = makeStyles({\n    total: { fontWeight: 'bold' },\n});\n\nconst tabs = [\n    { id: 'ordered', name: 'ordered' },\n    { id: 'delivered', name: 'delivered' },\n    { id: 'cancelled', name: 'cancelled' },\n];\n\ninterface TabbedDatagridProps extends DatagridProps<Order> {}\n\nconst TabbedDatagrid: FC<TabbedDatagridProps> = ({\n    ids,\n    filterValues,\n    setFilters,\n    displayedFilters,\n    ...rest\n}) => {\n    const classes = useDatagridStyles();\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const [ordered, setOrdered] = useState<Identifier[]>([]);\n    const [delivered, setDelivered] = useState<Identifier[]>([]);\n    const [cancelled, setCancelled] = useState<Identifier[]>([]);\n\n    useEffect(() => {\n        if (ids && ids !== filterValues.status) {\n            switch (filterValues.status) {\n                case 'ordered':\n                    setOrdered(ids);\n                    break;\n                case 'delivered':\n                    setDelivered(ids);\n                    break;\n                case 'cancelled':\n                    setCancelled(ids);\n                    break;\n            }\n        }\n    }, [ids, filterValues.status]);\n\n    const handleChange = useCallback(\n        (event: React.ChangeEvent<{}>, value: any) => {\n            setFilters &&\n                setFilters(\n                    { ...filterValues, status: value },\n                    displayedFilters\n                );\n        },\n        [displayedFilters, filterValues, setFilters]\n    );\n\n    const selectedIds =\n        filterValues.status === 'ordered'\n            ? ordered\n            : filterValues.status === 'delivered'\n            ? delivered\n            : cancelled;\n\n    return (\n        <Fragment>\n            <Tabs\n                variant=\"fullWidth\"\n                centered\n                value={filterValues.status}\n                indicatorColor=\"primary\"\n                onChange={handleChange}\n            >\n                {tabs.map(choice => (\n                    <Tab\n                        key={choice.id}\n                        label={choice.name}\n                        value={choice.id}\n                    />\n                ))}\n            </Tabs>\n            <Divider />\n            {isXSmall ? (\n                <MobileGrid {...rest} ids={selectedIds} />\n            ) : (\n                <div>\n                    {filterValues.status === 'ordered' && (\n                        <Datagrid\n                            {...rest}\n                            ids={ordered}\n                            optimized\n                            rowClick=\"edit\"\n                        >\n                            <DateField source=\"date\" showTime />\n                            <TextField source=\"reference\" />\n                            <CustomerReferenceField />\n                            <NbItemsField />\n                            <NumberField\n                                source=\"total\"\n                                options={{\n                                    style: 'currency',\n                                    currency: 'USD',\n                                }}\n                                className={classes.total}\n                            />\n                        </Datagrid>\n                    )}\n                    {filterValues.status === 'delivered' && (\n                        <Datagrid {...rest} ids={delivered} rowClick=\"edit\">\n                            <DateField source=\"date\" showTime />\n                            <TextField source=\"reference\" />\n                            <CustomerReferenceField />\n                            <NbItemsField />\n                            <NumberField\n                                source=\"total\"\n                                options={{\n                                    style: 'currency',\n                                    currency: 'USD',\n                                }}\n                                className={classes.total}\n                            />\n                            <BooleanField source=\"returned\" />\n                        </Datagrid>\n                    )}\n                    {filterValues.status === 'cancelled' && (\n                        <Datagrid {...rest} ids={cancelled} rowClick=\"edit\">\n                            <DateField source=\"date\" showTime />\n                            <TextField source=\"reference\" />\n                            <CustomerReferenceField />\n                            <NbItemsField />\n                            <NumberField\n                                source=\"total\"\n                                options={{\n                                    style: 'currency',\n                                    currency: 'USD',\n                                }}\n                                className={classes.total}\n                            />\n                            <BooleanField source=\"returned\" />\n                        </Datagrid>\n                    )}\n                </div>\n            )}\n        </Fragment>\n    );\n};\n\nconst OrderList: FC<ListComponentProps> = props => (\n    <List\n        {...props}\n        filterDefaultValues={{ status: 'ordered' }}\n        sort={{ field: 'date', order: 'DESC' }}\n        perPage={25}\n        filters={<OrderFilter />}\n    >\n        <TabbedDatagrid />\n    </List>\n);\n\nexport default OrderList;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport classnames from 'classnames';\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { Link, useTranslate, useQueryWithStore } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps, AppState, Order, Product } from '../types';\n\nconst useStyles = makeStyles({\n    container: { minWidth: '35em', marginLeft: '1em' },\n    rightAlignedCell: { textAlign: 'right' },\n    boldCell: { fontWeight: 'bold' },\n});\n\nconst Basket: FC<FieldProps<Order>> = ({ record }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    const { loaded, data: products } = useQueryWithStore(\n        {\n            type: 'getMany',\n            resource: 'products',\n            payload: {\n                ids: record ? record.basket.map(item => item.product_id) : [],\n            },\n        },\n        {},\n        (state: AppState) => {\n            const productIds = record\n                ? record.basket.map(item => item.product_id)\n                : [];\n\n            return productIds\n                .map<Product>(\n                    productId =>\n                        state.admin.resources.products.data[\n                            productId\n                        ] as Product\n                )\n                .filter(r => typeof r !== 'undefined')\n                .reduce(\n                    (prev, next) => {\n                        prev[next.id] = next;\n                        return prev;\n                    },\n                    {} as { [key: string]: Product }\n                );\n        }\n    );\n\n    if (!loaded || !record) return null;\n\n    return (\n        <Paper className={classes.container} elevation={2}>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.reference'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.unit_price'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.quantity'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                        </TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {record.basket.map(\n                        (item: any) =>\n                            products[item.product_id] && (\n                                <TableRow key={item.product_id}>\n                                    <TableCell>\n                                        <Link\n                                            to={`/products/${item.product_id}`}\n                                        >\n                                            {\n                                                products[item.product_id]\n                                                    .reference\n                                            }\n                                        </Link>\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {products[\n                                            item.product_id\n                                        ].price.toLocaleString(undefined, {\n                                            style: 'currency',\n                                            currency: 'USD',\n                                        })}\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {item.quantity}\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {(\n                                            products[item.product_id].price *\n                                            item.quantity\n                                        ).toLocaleString(undefined, {\n                                            style: 'currency',\n                                            currency: 'USD',\n                                        })}\n                                    </TableCell>\n                                </TableRow>\n                            )\n                    )}\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate('resources.commands.fields.basket.sum')}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.total_ex_taxes.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.delivery'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.delivery_fees.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.tax_rate'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.tax_rate.toLocaleString(undefined, {\n                                style: 'percent',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell className={classes.boldCell}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                        </TableCell>\n                        <TableCell\n                            className={classnames(\n                                classes.boldCell,\n                                classes.rightAlignedCell\n                            )}\n                        >\n                            {record.total.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                </TableBody>\n            </Table>\n        </Paper>\n    );\n};\n\nexport default Basket;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    AutocompleteInput,\n    BooleanInput,\n    DateInput,\n    Edit,\n    ReferenceInput,\n    SelectInput,\n    SimpleForm,\n    useTranslate,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Order, Customer, EditComponentProps } from '../types';\n\nimport Basket from './Basket';\n\ninterface OrderTitleProps {\n    record?: Order;\n}\n\nconst OrderTitle: FC<OrderTitleProps> = ({ record }) => {\n    const translate = useTranslate();\n    return record ? (\n        <span>\n            {translate('resources.commands.title', {\n                reference: record.reference,\n            })}\n        </span>\n    ) : null;\n};\n\nconst useEditStyles = makeStyles({\n    root: { alignItems: 'flex-start' },\n});\n\nconst OrderEdit: FC<EditComponentProps> = props => {\n    const classes = useEditStyles();\n    return (\n        <Edit\n            title={<OrderTitle />}\n            aside={<Basket />}\n            classes={classes}\n            {...props}\n        >\n            <SimpleForm>\n                <DateInput source=\"date\" />\n                <ReferenceInput source=\"customer_id\" reference=\"customers\">\n                    <AutocompleteInput\n                        optionText={(choice: Customer) =>\n                            `${choice.first_name} ${choice.last_name}`\n                        }\n                    />\n                </ReferenceInput>\n                <SelectInput\n                    source=\"status\"\n                    choices={[\n                        { id: 'delivered', name: 'delivered' },\n                        { id: 'ordered', name: 'ordered' },\n                        { id: 'cancelled', name: 'cancelled' },\n                        {\n                            id: 'unknown',\n                            name: 'unknown',\n                            disabled: true,\n                        },\n                    ]}\n                />\n                <BooleanInput source=\"returned\" />\n            </SimpleForm>\n        </Edit>\n    );\n};\n\nexport default OrderEdit;\n","import OrderIcon from '@material-ui/icons/AttachMoney';\n\nimport OrderList from './OrderList';\nimport OrderEdit from './OrderEdit';\n\nexport default {\n    list: OrderList,\n    edit: OrderEdit,\n    icon: OrderIcon,\n};\n","import * as React from 'react';\nimport { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRedirect,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n} from 'react-admin';\nimport { BulkActionProps } from '../types';\n\nconst BulkAcceptButton: FC<BulkActionProps> = ({ selectedIds }) => {\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n    const unselectAll = useUnselectAll('reviews');\n\n    const [approve, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'accepted' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.accept\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp />\n        </Button>\n    );\n};\n\nBulkAcceptButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkAcceptButton;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRedirect,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n} from 'react-admin';\nimport { BulkActionProps } from '../types';\n\nconst BulkRejectButton: FC<BulkActionProps> = ({ selectedIds }) => {\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n    const unselectAll = useUnselectAll('reviews');\n\n    const [reject, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'rejected' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.reject\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown />\n        </Button>\n    );\n};\n\nBulkRejectButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkRejectButton;\n","import * as React from 'react';\nimport { Fragment, FC } from 'react';\nimport PropTypes from 'prop-types';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport {\n    linkToRecord,\n    ReferenceField,\n    FunctionField,\n    TextField,\n} from 'react-admin';\n\nimport AvatarField from '../visitors/AvatarField';\nimport { DatagridProps } from '../types';\nimport { Review, Customer } from './../types';\n\nconst useStyles = makeStyles({\n    root: {\n        width: '100vw',\n    },\n    link: {\n        textDecoration: 'none',\n        color: 'inherit',\n    },\n    inline: {\n        display: 'inline',\n    },\n});\n\nconst ReviewListMobile: FC<DatagridProps<Review>> = ({\n    basePath,\n    data,\n    ids,\n    loaded,\n    total,\n}) => {\n    const classes = useStyles();\n\n    return loaded || Number(total) > 0 ? (\n        <List className={classes.root}>\n            {(ids as Exclude<typeof ids, undefined>).map(id => {\n                const item = (data as Exclude<typeof data, undefined>)[id];\n                if (!item) return null;\n\n                return (\n                    <Link\n                        to={linkToRecord(basePath, id)}\n                        className={classes.link}\n                        key={id}\n                    >\n                        <ListItem button>\n                            <ListItemAvatar>\n                                <ReferenceField\n                                    record={item}\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    basePath={basePath}\n                                    link={false}\n                                >\n                                    <AvatarField size=\"40\" />\n                                </ReferenceField>\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={\n                                    <Fragment>\n                                        <ReferenceField\n                                            record={item}\n                                            source=\"customer_id\"\n                                            reference=\"customers\"\n                                            basePath={basePath}\n                                            link={false}\n                                        >\n                                            <FunctionField\n                                                render={(record: Customer) =>\n                                                    `${record.first_name} ${\n                                                        record.last_name\n                                                    }`\n                                                }\n                                                variant=\"subtitle1\"\n                                                className={classes.inline}\n                                            />\n                                        </ReferenceField>{' '}\n                                        on{' '}\n                                        <ReferenceField\n                                            record={item}\n                                            source=\"product_id\"\n                                            reference=\"products\"\n                                            basePath={basePath}\n                                            link={false}\n                                        >\n                                            <TextField\n                                                source=\"reference\"\n                                                variant=\"subtitle1\"\n                                                className={classes.inline}\n                                            />\n                                        </ReferenceField>\n                                    </Fragment>\n                                }\n                                secondary={item.comment}\n                                secondaryTypographyProps={{ noWrap: true }}\n                            />\n                        </ListItem>\n                    </Link>\n                );\n            })}\n        </List>\n    ) : null;\n};\n\nReviewListMobile.propTypes = {\n    basePath: PropTypes.string,\n    data: PropTypes.any,\n    hasBulkActions: PropTypes.bool.isRequired,\n    ids: PropTypes.array,\n    onToggleItem: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nReviewListMobile.defaultProps = {\n    hasBulkActions: false,\n    selectedIds: [],\n};\n\nexport default ReviewListMobile;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { ReferenceField, TextField } from 'react-admin';\nimport { ReferenceFieldProps } from './../types';\n\nconst ProductReferenceField: FC<\n    Omit<ReferenceFieldProps, 'reference' | 'children'>\n> = props => (\n    <ReferenceField\n        label=\"Product\"\n        source=\"product_id\"\n        reference=\"products\"\n        {...props}\n    >\n        <TextField source=\"reference\" />\n    </ReferenceField>\n);\n\nProductReferenceField.defaultProps = {\n    source: 'product_id',\n    addLabel: true,\n};\n\nexport default ProductReferenceField;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Icon from '@material-ui/icons/Stars';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { FieldProps } from '../types';\n\nconst useStyles = makeStyles({\n    root: {\n        opacity: 0.87,\n        whiteSpace: 'nowrap',\n        display: 'flex',\n    },\n    large: {\n        width: 20,\n        height: 20,\n    },\n    small: {\n        width: 15,\n        height: 15,\n    },\n});\n\ninterface OwnProps {\n    size?: 'large' | 'small';\n}\n\nconst StarRatingField: FC<FieldProps & OwnProps> = ({\n    record,\n    size = 'large',\n}) => {\n    const classes = useStyles();\n    return record ? (\n        <span className={classes.root}>\n            {Array(record.rating)\n                .fill(true)\n                .map((_, i) => (\n                    <Icon\n                        key={i}\n                        className={\n                            size === 'large' ? classes.large : classes.small\n                        }\n                    />\n                ))}\n        </span>\n    ) : null;\n};\n\nStarRatingField.defaultProps = {\n    label: 'resources.reviews.fields.rating',\n    source: 'rating',\n    addLabel: true,\n};\n\nexport default StarRatingField;\n","import green from '@material-ui/core/colors/green';\nimport orange from '@material-ui/core/colors/orange';\nimport red from '@material-ui/core/colors/red';\nimport { Theme } from '@material-ui/core';\nimport { Review } from './../types';\nimport { Identifier } from 'ra-core';\n\nconst rowStyle = (selectedRow: Identifier, theme: Theme) => (\n    record: Review\n) => {\n    let style = {};\n    if (selectedRow === record.id) {\n        style = {\n            ...style,\n            backgroundColor: theme.palette.action.selected,\n        };\n    }\n    if (record.status === 'accepted')\n        return {\n            ...style,\n            borderLeftColor: green[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'pending')\n        return {\n            ...style,\n            borderLeftColor: orange[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'rejected')\n        return {\n            ...style,\n            borderLeftColor: red[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    return style;\n};\n\nexport default rowStyle;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Datagrid, DateField, TextField } from 'react-admin';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\n\nimport rowStyle from './rowStyle';\nimport { DatagridProps } from './../types';\nimport { Identifier } from 'ra-core';\n\nconst useListStyles = makeStyles({\n    headerRow: {\n        borderLeftColor: 'white',\n        borderLeftWidth: 5,\n        borderLeftStyle: 'solid',\n    },\n    headerCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    rowCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    comment: {\n        maxWidth: '18em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n});\n\nexport interface ReviewListDesktopProps extends DatagridProps {\n    selectedRow?: Identifier;\n}\n\nconst ReviewListDesktop: FC<ReviewListDesktopProps> = ({\n    selectedRow,\n    ...props\n}) => {\n    const classes = useListStyles();\n    const theme = useTheme();\n    return (\n        <Datagrid\n            rowClick=\"edit\"\n            rowStyle={selectedRow ? rowStyle(selectedRow, theme) : undefined}\n            classes={{\n                headerRow: classes.headerRow,\n                headerCell: classes.headerCell,\n                rowCell: classes.rowCell,\n            }}\n            optimized\n            {...props}\n        >\n            <DateField source=\"date\" />\n            <CustomerReferenceField link={false} />\n            <ProductReferenceField link={false} />\n            <StarRatingField size=\"small\" />\n            <TextField source=\"comment\" cellClassName={classes.comment} />\n            <TextField source=\"status\" />\n        </Datagrid>\n    );\n};\n\nexport default ReviewListDesktop;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    AutocompleteInput,\n    DateInput,\n    Filter,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FilterProps, ReviewStatus, Customer } from '../types';\nimport { Identifier } from 'ra-core';\n\nconst useFilterStyles = makeStyles({\n    status: { width: 150 },\n});\n\ninterface FilterParams {\n    q?: string;\n    status?: ReviewStatus;\n    date_gte?: string;\n    date_lte?: string;\n    customer_id?: Identifier;\n    product_id?: Identifier;\n}\n\nconst ReviewFilter: FC<FilterProps<FilterParams>> = props => {\n    const classes = useFilterStyles();\n    return (\n        <Filter {...props}>\n            <SearchInput source=\"q\" alwaysOn />\n            <SelectInput\n                source=\"status\"\n                choices={[\n                    { id: 'accepted', name: 'Accepted' },\n                    { id: 'pending', name: 'Pending' },\n                    { id: 'rejected', name: 'Rejected' },\n                ]}\n                className={classes.status}\n            />\n            <ReferenceInput source=\"customer_id\" reference=\"customers\">\n                <AutocompleteInput\n                    optionText={(choice: Customer) =>\n                        `${choice.first_name} ${choice.last_name}`\n                    }\n                />\n            </ReferenceInput>\n            <ReferenceInput source=\"product_id\" reference=\"products\">\n                <AutocompleteInput optionText=\"reference\" />\n            </ReferenceInput>\n            <DateInput source=\"date_gte\" />\n            <DateInput source=\"date_lte\" />\n        </Filter>\n    );\n};\n\nexport default ReviewFilter;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\nimport { useTranslate, useUpdate, useNotify, useRedirect } from 'react-admin';\nimport { Review } from './../types';\n\n/**\n * This custom button demonstrate using useUpdate to update data\n */\nconst AcceptButton: FC<{ record: Review }> = ({ record }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [approve, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'accepted' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'green' }}\n            />\n            {translate('resources.reviews.action.accept')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nAcceptButton.propTypes = {\n    record: PropTypes.any,\n};\n\nexport default AcceptButton;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\nimport { useTranslate, useUpdate, useNotify, useRedirect } from 'react-admin';\nimport { Review } from '../types';\n\n/**\n * This custom button demonstrate using a custom action to update data\n */\nconst RejectButton: FC<{ record: Review }> = ({ record }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [reject, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'rejected' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.rejected_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.rejected_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'red' }}\n            />\n            {translate('resources.reviews.action.reject')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nRejectButton.propTypes = {\n    record: PropTypes.any,\n};\n\nexport default RejectButton;\n","import * as React from 'react';\nimport { Fragment, FC } from 'react';\nimport MuiToolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { SaveButton, DeleteButton } from 'react-admin';\nimport AcceptButton from './AcceptButton';\nimport RejectButton from './RejectButton';\nimport { ToolbarProps, Review } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: theme.palette.background.paper,\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n}));\n\nconst ReviewEditToolbar: FC<ToolbarProps<Review>> = ({\n    basePath,\n    handleSubmitWithRedirect,\n    invalid,\n    record,\n    resource,\n    saving,\n}) => {\n    const classes = useStyles();\n\n    if (!record) return null;\n    return (\n        <MuiToolbar className={classes.root}>\n            {record.status === 'pending' ? (\n                <Fragment>\n                    <AcceptButton record={record} />\n                    <RejectButton record={record} />\n                </Fragment>\n            ) : (\n                <Fragment>\n                    <SaveButton\n                        handleSubmitWithRedirect={handleSubmitWithRedirect}\n                        invalid={invalid}\n                        saving={saving}\n                        redirect=\"list\"\n                        submitOnEnter={true}\n                    />\n                    <DeleteButton\n                        basePath={basePath}\n                        record={record}\n                        resource={resource}\n                    />\n                </Fragment>\n            )}\n        </MuiToolbar>\n    );\n};\n\nexport default ReviewEditToolbar;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    useEditController,\n    useTranslate,\n    TextInput,\n    SimpleForm,\n    DateField,\n} from 'react-admin';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\nimport ReviewEditToolbar from './ReviewEditToolbar';\nimport { EditComponentProps } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        paddingTop: 40,\n    },\n    title: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        margin: '1em',\n    },\n    form: {\n        [theme.breakpoints.up('xs')]: {\n            width: 400,\n        },\n        [theme.breakpoints.down('xs')]: {\n            width: '100vw',\n            marginTop: -30,\n        },\n    },\n    inlineField: {\n        display: 'inline-block',\n        width: '50%',\n    },\n}));\n\ninterface Props extends EditComponentProps {\n    onCancel: () => void;\n}\n\nconst ReviewEdit: FC<Props> = ({ onCancel, ...props }) => {\n    const classes = useStyles();\n    const controllerProps = useEditController(props);\n    const translate = useTranslate();\n    if (!controllerProps.record) {\n        return null;\n    }\n    return (\n        <div className={classes.root}>\n            <div className={classes.title}>\n                <Typography variant=\"h6\">\n                    {translate('resources.reviews.detail')}\n                </Typography>\n                <IconButton onClick={onCancel}>\n                    <CloseIcon />\n                </IconButton>\n            </div>\n            <SimpleForm\n                className={classes.form}\n                basePath={controllerProps.basePath}\n                record={controllerProps.record}\n                save={controllerProps.save}\n                version={controllerProps.version}\n                redirect=\"list\"\n                resource=\"reviews\"\n                toolbar={<ReviewEditToolbar />}\n            >\n                <CustomerReferenceField formClassName={classes.inlineField} />\n                <ProductReferenceField formClassName={classes.inlineField} />\n                <DateField source=\"date\" formClassName={classes.inlineField} />\n                <StarRatingField formClassName={classes.inlineField} />\n                <TextInput source=\"comment\" rowsMax={15} multiline fullWidth />\n            </SimpleForm>\n        </div>\n    );\n};\n\nexport default ReviewEdit;\n","import * as React from 'react';\nimport { Fragment, useCallback, FC } from 'react';\nimport classnames from 'classnames';\nimport { BulkDeleteButton, List } from 'react-admin';\nimport { Route, RouteChildrenProps, useHistory } from 'react-router-dom';\nimport { Drawer, useMediaQuery, Theme } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BulkAcceptButton from './BulkAcceptButton';\nimport BulkRejectButton from './BulkRejectButton';\nimport ReviewListMobile from './ReviewListMobile';\nimport ReviewListDesktop from './ReviewListDesktop';\nimport ReviewFilter from './ReviewFilter';\nimport ReviewEdit from './ReviewEdit';\nimport { BulkActionProps, ListComponentProps } from '../types';\n\nconst ReviewsBulkActionButtons: FC<BulkActionProps> = props => (\n    <Fragment>\n        <BulkAcceptButton {...props} />\n        <BulkRejectButton {...props} />\n        <BulkDeleteButton {...props} />\n    </Fragment>\n);\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n    },\n    list: {\n        flexGrow: 1,\n        transition: theme.transitions.create(['all'], {\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n        marginRight: 0,\n    },\n    listWithDrawer: {\n        marginRight: 400,\n    },\n    drawerPaper: {\n        zIndex: 100,\n    },\n}));\n\nconst ReviewList: FC<ListComponentProps<{ id: string }>> = props => {\n    const classes = useStyles();\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const history = useHistory();\n\n    const handleClose = useCallback(() => {\n        history.push('/reviews');\n    }, [history]);\n\n    return (\n        <div className={classes.root}>\n            <Route path=\"/reviews/:id\">\n                {({ match }: RouteChildrenProps<{ id: string }>) => {\n                    const isMatch = !!(\n                        match &&\n                        match.params &&\n                        match.params.id !== 'create'\n                    );\n\n                    return (\n                        <Fragment>\n                            <List\n                                {...props}\n                                className={classnames(classes.list, {\n                                    [classes.listWithDrawer]: isMatch,\n                                })}\n                                bulkActionButtons={<ReviewsBulkActionButtons />}\n                                filters={<ReviewFilter />}\n                                perPage={25}\n                                sort={{ field: 'date', order: 'DESC' }}\n                            >\n                                {isXSmall ? (\n                                    <ReviewListMobile />\n                                ) : (\n                                    <ReviewListDesktop\n                                        selectedRow={\n                                            isMatch\n                                                ? parseInt(\n                                                      (match as any).params.id,\n                                                      10\n                                                  )\n                                                : undefined\n                                        }\n                                    />\n                                )}\n                            </List>\n                            <Drawer\n                                variant=\"persistent\"\n                                open={isMatch}\n                                anchor=\"right\"\n                                onClose={handleClose}\n                                classes={{\n                                    paper: classes.drawerPaper,\n                                }}\n                            >\n                                {/* To avoid any errors if the route does not match, we don't render at all the component in this case */}\n                                {isMatch ? (\n                                    <ReviewEdit\n                                        id={(match as any).params.id}\n                                        onCancel={handleClose}\n                                        {...props}\n                                    />\n                                ) : null}\n                            </Drawer>\n                        </Fragment>\n                    );\n                }}\n            </Route>\n        </div>\n    );\n};\n\nexport default ReviewList;\n","import ReviewIcon from '@material-ui/icons/Comment';\nimport ReviewList from './ReviewList';\n\nexport default {\n    icon: ReviewIcon,\n    list: ReviewList,\n};\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    NumberField,\n    TextField,\n    DateField,\n    useTranslate,\n    useGetList,\n    linkToRecord,\n} from 'react-admin';\nimport PropTypes from 'prop-types';\nimport {\n    Tooltip,\n    Typography,\n    Card,\n    CardContent,\n    CardHeader,\n    Avatar,\n    IconButton,\n    Box,\n} from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport ContentCreate from '@material-ui/icons/Create';\nimport order from '../orders';\nimport review from '../reviews';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport StarRatingField from '../reviews/StarRatingField';\nimport { Record, RecordMap, Identifier } from 'ra-core';\nimport { Order as OrderRecord, Review as ReviewRecord } from '../types';\n\nconst useAsideStyles = makeStyles(theme => ({\n    root: {\n        width: 400,\n        [theme.breakpoints.down('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\ninterface AsideProps {\n    record?: Record;\n    basePath?: string;\n}\n\nconst Aside: FC<AsideProps> = ({ record, basePath }) => {\n    const classes = useAsideStyles();\n    return (\n        <div className={classes.root}>\n            {record && <EventList record={record} basePath={basePath} />}\n        </div>\n    );\n};\n\nAside.propTypes = {\n    record: PropTypes.any,\n    basePath: PropTypes.string,\n};\n\ninterface EventListProps {\n    record?: Record;\n    basePath?: string;\n}\nconst EventList: FC<EventListProps> = ({ record, basePath }) => {\n    const translate = useTranslate();\n    const { data: orders, ids: orderIds } = useGetList(\n        'commands',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id }\n    );\n    const { data: reviews, ids: reviewIds } = useGetList(\n        'reviews',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id }\n    );\n    const events = mixOrdersAndReviews(orders, orderIds, reviews, reviewIds);\n\n    return (\n        <>\n            <Box m=\"0 0 1em 1em\">\n                <Card>\n                    <CardContent>\n                        <Typography variant=\"h6\" gutterBottom>\n                            {translate(\n                                'resources.customers.fieldGroups.history'\n                            )}\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.first_seen'\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"first_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {orderIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <order.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.commands.amount',\n                                                    {\n                                                        smart_count:\n                                                            orderIds.length,\n                                                    }\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.last_seen'\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"last_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {reviewIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <review.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.reviews.amount',\n                                                    {\n                                                        smart_count:\n                                                            reviewIds.length,\n                                                    }\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                        </Box>\n                    </CardContent>\n                </Card>\n            </Box>\n\n            {events.map(event =>\n                event.type === 'order' ? (\n                    <Order\n                        record={event.data as OrderRecord}\n                        key={`event_${event.data.id}`}\n                        basePath={basePath}\n                    />\n                ) : (\n                    <Review\n                        record={event.data as ReviewRecord}\n                        key={`review_${event.data.id}`}\n                        basePath={basePath}\n                    />\n                )\n            )}\n        </>\n    );\n};\n\ninterface AsideEvent {\n    type: string;\n    date: Date;\n    data: OrderRecord | ReviewRecord;\n}\n\nconst mixOrdersAndReviews = (\n    orders: RecordMap<OrderRecord>,\n    orderIds: Identifier[],\n    reviews: RecordMap<ReviewRecord>,\n    reviewIds: Identifier[]\n): AsideEvent[] => {\n    const eventsFromOrders = orderIds.map<AsideEvent>(id => ({\n        type: 'order',\n        date: orders[id].date,\n        data: orders[id],\n    }));\n    const eventsFromReviews = reviewIds.map<AsideEvent>(id => ({\n        type: 'review',\n        date: reviews[id].date,\n        data: reviews[id],\n    }));\n    const events = eventsFromOrders.concat(eventsFromReviews);\n    events.sort(\n        (e1, e2) => new Date(e1.date).getTime() - new Date(e2.date).getTime()\n    );\n    return events;\n};\n\nconst useEventStyles = makeStyles({\n    card: {\n        margin: '0 0 1em 1em',\n    },\n    cardHeader: {\n        alignItems: 'flex-start',\n    },\n    clamp: {\n        display: '-webkit-box',\n        '-webkit-line-clamp': 3,\n        '-webkit-box-orient': 'vertical',\n        overflow: 'hidden',\n    },\n});\n\ninterface OrderProps {\n    record?: OrderRecord;\n    basePath?: string;\n}\n\nconst Order: FC<OrderProps> = ({ record, basePath }) => {\n    const translate = useTranslate();\n    const classes = useEventStyles();\n    return record ? (\n        <Card className={classes.card}>\n            <CardHeader\n                className={classes.cardHeader}\n                avatar={\n                    <Avatar\n                        aria-label={translate('resources.commands.name', {\n                            smart_count: 1,\n                        })}\n                    >\n                        <order.icon />\n                    </Avatar>\n                }\n                action={<EditButton record={record} basePath=\"/commands\" />}\n                title={`${translate('resources.commands.name', {\n                    smart_count: 1,\n                })} #${record.reference}`}\n                subheader={\n                    <>\n                        <Typography variant=\"body2\">{record.date}</Typography>\n                        <Typography variant=\"body2\" color=\"textSecondary\">\n                            {translate('resources.commands.nb_items', {\n                                smart_count: record.basket.length,\n                                _: '1 item |||| %{smart_count} items',\n                            })}\n                            &nbsp;-&nbsp;\n                            <NumberField\n                                source=\"total\"\n                                options={{\n                                    style: 'currency',\n                                    currency: 'USD',\n                                }}\n                                record={record}\n                                basePath={basePath}\n                            />\n                            &nbsp;-&nbsp;\n                            <TextField\n                                source=\"status\"\n                                record={record}\n                                basePath={basePath}\n                            />\n                        </Typography>\n                    </>\n                }\n            />\n        </Card>\n    ) : null;\n};\n\ninterface ReviewProps {\n    record?: ReviewRecord;\n    basePath?: string;\n}\n\nconst Review: FC<ReviewProps> = ({ record, basePath }) => {\n    const translate = useTranslate();\n    const classes = useEventStyles();\n    return record ? (\n        <Card className={classes.card}>\n            <CardHeader\n                className={classes.cardHeader}\n                avatar={\n                    <Avatar\n                        aria-label={translate('resources.reviews.name', {\n                            smart_count: 1,\n                        })}\n                    >\n                        <review.icon />\n                    </Avatar>\n                }\n                action={<EditButton record={record} basePath=\"/reviews\" />}\n                title={\n                    <span>\n                        {translate('resources.reviews.relative_to_poster')}{' '}\n                        <ProductReferenceField\n                            resource=\"reviews\"\n                            record={record}\n                            basePath={basePath}\n                        />\n                    </span>\n                }\n                subheader={\n                    <>\n                        <Typography variant=\"body2\">{record.date}</Typography>\n                        <StarRatingField record={record} />\n                        <Typography variant=\"inherit\" className={classes.clamp}>\n                            {record.comment}\n                        </Typography>\n                    </>\n                }\n            />\n        </Card>\n    ) : null;\n};\n\ninterface EditButtonProps {\n    record?: Record;\n    basePath?: string;\n}\n\nconst EditButton: FC<EditButtonProps> = ({ record, basePath }) => {\n    const translate = useTranslate();\n    return (\n        <Tooltip title={translate('ra.action.edit')}>\n            <IconButton\n                aria-label={translate('ra.action.edit')}\n                component={Link}\n                to={linkToRecord(basePath, record && record.id)}\n            >\n                <ContentCreate />\n            </IconButton>\n        </Tooltip>\n    );\n};\n\nexport default Aside;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { useTranslate, SelectArrayInput } from 'react-admin';\nimport { InputProps } from 'ra-core';\n\nimport segments from '../segments/data';\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentsInput: FC<Props> = ({ addField, ...rest }) => {\n    const translate = useTranslate();\n    return (\n        <SelectArrayInput\n            {...rest}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n        />\n    );\n};\n\nSegmentsInput.defaultProps = {\n    addField: true,\n    source: 'groups',\n    resource: 'customers',\n};\n\nexport default SegmentsInput;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    DateInput,\n    Edit,\n    NullableBooleanInput,\n    TextInput,\n    PasswordInput,\n    Toolbar,\n    useTranslate,\n    FormWithRedirect,\n    required,\n    email,\n} from 'react-admin';\nimport { Box, Card, CardContent, Typography } from '@material-ui/core';\n\nimport Aside from './Aside';\nimport FullNameField from './FullNameField';\nimport SegmentsInput from './SegmentsInput';\nimport { validatePasswords } from './VisitorCreate';\nimport { Customer, FieldProps } from '../types';\n\nconst VisitorEdit = (props: any) => {\n    return (\n        <Edit\n            title={<VisitorTitle />}\n            aside={<Aside />}\n            component=\"div\"\n            {...props}\n        >\n            <VisitorForm />\n        </Edit>\n    );\n};\n\nconst VisitorTitle: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? <FullNameField record={record} size=\"32\" /> : null;\n\nconst VisitorForm = (props: any) => {\n    const translate = useTranslate();\n\n    return (\n        <FormWithRedirect\n            {...props}\n            validate={validatePasswords}\n            render={(formProps: any) => (\n                <Card>\n                    <form>\n                        <CardContent>\n                            <Box display={{ md: 'block', lg: 'flex' }}>\n                                <Box flex={2} mr={{ md: 0, lg: '1em' }}>\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.identity'\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"first_name\"\n                                                resource=\"customers\"\n                                                validate={requiredValidate}\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"last_name\"\n                                                resource=\"customers\"\n                                                validate={requiredValidate}\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                    <TextInput\n                                        type=\"email\"\n                                        source=\"email\"\n                                        resource=\"customers\"\n                                        validate={[email(), required()]}\n                                        fullWidth\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <DateInput\n                                                source=\"birthday\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                                helperText={false}\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={2}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        />\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.address'\n                                        )}\n                                    </Typography>\n                                    <TextInput\n                                        source=\"address\"\n                                        resource=\"customers\"\n                                        multiline\n                                        fullWidth\n                                        helperText={false}\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"zipcode\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                                helperText={false}\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={2}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"city\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                                helperText={false}\n                                            />\n                                        </Box>\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.change_password'\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"confirm_password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                </Box>\n                                <Box\n                                    flex={1}\n                                    ml={{ xs: 0, lg: '1em' }}\n                                    mt={{ xs: '1em', lg: 0 }}\n                                >\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.stats'\n                                        )}\n                                    </Typography>\n                                    <div>\n                                        <SegmentsInput fullWidth />\n                                    </div>\n                                    <div>\n                                        <NullableBooleanInput\n                                            source=\"has_newsletter\"\n                                            resource=\"customers\"\n                                        />\n                                    </div>\n                                </Box>\n                            </Box>\n                        </CardContent>\n                        <Toolbar\n                            record={formProps.record}\n                            basePath={formProps.basePath}\n                            undoable={true}\n                            invalid={formProps.invalid}\n                            handleSubmit={formProps.handleSubmit}\n                            saving={formProps.saving}\n                            resource=\"customers\"\n                        />\n                    </form>\n                </Card>\n            )}\n        />\n    );\n};\n\nconst requiredValidate = [required()];\n\nexport default VisitorEdit;\n","import VisitorIcon from '@material-ui/icons/People';\n\nimport VisitorList from './VisitorList';\nimport VisitorCreate from './VisitorCreate';\nimport VisitorEdit from './VisitorEdit';\n\nexport default {\n    list: VisitorList,\n    create: VisitorCreate,\n    edit: VisitorEdit,\n    icon: VisitorIcon,\n};\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { FieldProps, Customer } from '../types';\n\nconst AddressField: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? (\n        <span>\n            {record.address}, {record.city} {record.zipcode}\n        </span>\n    ) : null;\n\nexport default AddressField;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useShowController, ReferenceField, TextField } from 'react-admin';\n\nimport Basket from '../orders/Basket';\nimport { FieldProps, Customer } from '../types';\n\nconst CustomerField: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? (\n        <Typography>\n            {record.first_name} {record.last_name}\n            <br />\n            {record.address}\n            <br />\n            {record.city}, {record.zipcode}\n        </Typography>\n    ) : null;\n\nconst InvoiceShow = (props: any) => {\n    const { record } = useShowController(props);\n    const classes = useStyles();\n\n    if (!record) return null;\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom>\n                            Posters Galore\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"right\">\n                            Invoice {record.id}\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <Grid container spacing={2}>\n                    <Grid item xs={12} container alignContent=\"flex-end\">\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"customers\"\n                            source=\"customer_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <CustomerField />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Date{' '}\n                        </Typography>\n                        <Typography gutterBottom align=\"center\">\n                            {new Date(record.date).toLocaleDateString()}\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={5}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Order\n                        </Typography>\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"commands\"\n                            source=\"command_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <TextField\n                                source=\"reference\"\n                                align=\"center\"\n                                component=\"p\"\n                                gutterBottom\n                            />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div className={classes.invoices}>\n                    <ReferenceField\n                        resource=\"invoices\"\n                        reference=\"commands\"\n                        source=\"command_id\"\n                        basePath=\"/invoices\"\n                        record={record}\n                        link={false}\n                    >\n                        <Basket />\n                    </ReferenceField>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default InvoiceShow;\n\nconst useStyles = makeStyles({\n    root: { width: 600, margin: 'auto' },\n    spacer: { height: 20 },\n    invoices: { margin: '10px 0' },\n});\n","import * as React from 'react';\nimport {\n    List,\n    Datagrid,\n    TextField,\n    DateField,\n    ReferenceField,\n    NumberField,\n    Filter,\n    DateInput,\n} from 'react-admin';\n\nimport FullNameField from '../visitors/FullNameField';\nimport AddressField from '../visitors/AddressField';\nimport InvoiceShow from './InvoiceShow';\n\nconst ListFilters = (props: any) => (\n    <Filter {...props}>\n        <DateInput source=\"date_gte\" alwaysOn />\n        <DateInput source=\"date_lte\" alwaysOn />\n    </Filter>\n);\n\nconst InvoiceList = (props: any) => (\n    <List {...props} filters={<ListFilters />} perPage={25}>\n        <Datagrid rowClick=\"expand\" expand={<InvoiceShow />}>\n            <TextField source=\"id\" />\n            <DateField source=\"date\" />\n            <ReferenceField source=\"customer_id\" reference=\"customers\">\n                <FullNameField />\n            </ReferenceField>\n            <ReferenceField\n                source=\"customer_id\"\n                reference=\"customers\"\n                link={false}\n                label=\"resources.invoices.fields.address\"\n            >\n                <AddressField />\n            </ReferenceField>\n            <ReferenceField source=\"command_id\" reference=\"commands\">\n                <TextField source=\"reference\" />\n            </ReferenceField>\n            <NumberField source=\"total_ex_taxes\" />\n            <NumberField source=\"delivery_fees\" />\n            <NumberField source=\"taxes\" />\n            <NumberField source=\"total\" />\n        </Datagrid>\n    </List>\n);\n\nexport default InvoiceList;\n","import InvoiceIcon from '@material-ui/icons/LibraryBooks';\n\nimport InvoiceList from './InvoiceList';\n\nexport default {\n    list: InvoiceList,\n    icon: InvoiceIcon,\n};\n","import * as React from 'react';\nimport { FC } from 'react';\nimport MuiGridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { WithWidth } from '@material-ui/core/withWidth';\nimport { linkToRecord } from 'ra-core';\nimport { NumberField } from 'react-admin';\nimport { Link } from 'react-router-dom';\nimport { DatagridProps, Product } from '../types';\nimport { Breakpoint } from '@material-ui/core/styles/createBreakpoints';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        margin: '-2px',\n    },\n    gridList: {\n        width: '100%',\n        margin: 0,\n    },\n    tileBar: {\n        background:\n            'linear-gradient(to top, rgba(0,0,0,0.8) 0%,rgba(0,0,0,0.4) 70%,rgba(0,0,0,0) 100%)',\n    },\n    placeholder: {\n        backgroundColor: theme.palette.grey[300],\n        height: '100%',\n    },\n    price: {\n        display: 'inline',\n        fontSize: '1em',\n    },\n    link: {\n        color: '#fff',\n    },\n}));\n\nconst getColsForWidth = (width: Breakpoint) => {\n    if (width === 'xs') return 2;\n    if (width === 'sm') return 3;\n    if (width === 'md') return 4;\n    if (width === 'lg') return 5;\n    return 6;\n};\n\nconst times = (nbChildren: number, fn: (key: number) => any) =>\n    Array.from({ length: nbChildren }, (_, key) => fn(key));\n\nconst LoadingGridList: FC<GridProps & { nbItems?: number }> = ({\n    width,\n    nbItems = 20,\n}) => {\n    const classes = useStyles();\n    return (\n        <div className={classes.root}>\n            <MuiGridList\n                cellHeight={180}\n                cols={getColsForWidth(width)}\n                className={classes.gridList}\n            >\n                {' '}\n                {times(nbItems, key => (\n                    <GridListTile key={key}>\n                        <div className={classes.placeholder} />\n                    </GridListTile>\n                ))}\n            </MuiGridList>\n        </div>\n    );\n};\n\nconst LoadedGridList: FC<GridProps> = ({ ids, data, basePath, width }) => {\n    const classes = useStyles();\n\n    if (!ids || !data) return null;\n\n    return (\n        <div className={classes.root}>\n            <MuiGridList\n                cellHeight={180}\n                cols={getColsForWidth(width)}\n                className={classes.gridList}\n            >\n                {ids.map(id => (\n                    <GridListTile\n                        // @ts-ignore\n                        component={Link}\n                        key={id}\n                        to={linkToRecord(basePath, data[id].id)}\n                    >\n                        <img src={data[id].thumbnail} alt=\"\" />\n                        <GridListTileBar\n                            className={classes.tileBar}\n                            title={data[id].reference}\n                            subtitle={\n                                <span>\n                                    {data[id].width}x{data[id].height},{' '}\n                                    <NumberField\n                                        className={classes.price}\n                                        source=\"price\"\n                                        record={data[id]}\n                                        color=\"inherit\"\n                                        options={{\n                                            style: 'currency',\n                                            currency: 'USD',\n                                        }}\n                                    />\n                                </span>\n                            }\n                        />\n                    </GridListTile>\n                ))}\n            </MuiGridList>\n        </div>\n    );\n};\n\ninterface GridProps extends DatagridProps<Product>, WithWidth {}\n\nconst GridList: FC<GridProps> = ({ loaded, ...props }) =>\n    loaded ? <LoadedGridList {...props} /> : <LoadingGridList {...props} />;\n\nexport default withWidth()(GridList);\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { InputProps } from 'ra-core';\nimport {\n    Filter,\n    List,\n    NumberInput,\n    Pagination,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n    useTranslate,\n} from 'react-admin';\nimport { FilterProps, ListComponentProps } from '../types';\nimport GridList from './GridList';\n\nconst useQuickFilterStyles = makeStyles(theme => ({\n    root: {\n        marginBottom: theme.spacing(3),\n    },\n}));\n\nconst QuickFilter: FC<InputProps> = ({ label }) => {\n    const translate = useTranslate();\n    const classes = useQuickFilterStyles();\n    return <Chip className={classes.root} label={translate(label)} />;\n};\n\ninterface FilterParams {\n    q?: string;\n    category_id?: string;\n    width_gte?: number;\n    width_lte?: number;\n    height_gte?: number;\n    height_lte?: number;\n    stock_lte?: number;\n}\n\nexport const ProductFilter: FC<FilterProps<FilterParams>> = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <ReferenceInput\n            source=\"category_id\"\n            reference=\"categories\"\n            sort={{ field: 'id', order: 'ASC' }}\n        >\n            <SelectInput source=\"name\" />\n        </ReferenceInput>\n        <NumberInput source=\"width_gte\" />\n        <NumberInput source=\"width_lte\" />\n        <NumberInput source=\"height_gte\" />\n        <NumberInput source=\"height_lte\" />\n        <QuickFilter\n            label=\"resources.products.fields.stock_lte\"\n            source=\"stock_lte\"\n            defaultValue={10}\n        />\n    </Filter>\n);\n\nconst ProductList: FC<ListComponentProps> = props => (\n    <List\n        {...props}\n        filters={<ProductFilter />}\n        perPage={20}\n        pagination={<Pagination rowsPerPageOptions={[10, 20, 40]} />}\n        sort={{ field: 'reference', order: 'ASC' }}\n    >\n        <GridList />\n    </List>\n);\n\nexport default ProductList;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps, Product } from '../types';\n\nconst useStyles = makeStyles({\n    root: { display: 'inline-block', marginTop: '1em', zIndex: 2 },\n    content: { padding: 0, '&:last-child': { padding: 0 } },\n    img: {\n        width: 'initial',\n        minWidth: 'initial',\n        maxWidth: '42em',\n        maxHeight: '15em',\n    },\n});\n\nconst Poster: FC<FieldProps<Product>> = ({ record }) => {\n    const classes = useStyles();\n\n    if (!record) return null;\n\n    return (\n        <Card className={classes.root}>\n            <CardContent className={classes.content}>\n                <img src={record.image} alt=\"\" className={classes.img} />\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Poster;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    Create,\n    FormTab,\n    NumberInput,\n    ReferenceInput,\n    SelectInput,\n    TabbedForm,\n    TextInput,\n    required,\n} from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RichTextInput from 'ra-input-rich-text';\nimport { CreateComponentProps } from '../types';\n\nexport const styles = {\n    price: { width: '7em' },\n    width: { width: '7em' },\n    height: { width: '7em' },\n    stock: { width: '7em' },\n    widthFormGroup: { display: 'inline-block' },\n    heightFormGroup: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nconst ProductCreate: FC<CreateComponentProps> = props => {\n    const classes = useStyles();\n    return (\n        <Create {...props}>\n            <TabbedForm>\n                <FormTab label=\"resources.products.tabs.image\">\n                    <TextInput\n                        autoFocus\n                        source=\"image\"\n                        fullWidth\n                        validate={required()}\n                    />\n                    <TextInput\n                        source=\"thumbnail\"\n                        fullWidth\n                        validate={required()}\n                    />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.details\" path=\"details\">\n                    <TextInput source=\"reference\" validate={required()} />\n                    <NumberInput\n                        source=\"price\"\n                        validate={required()}\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    €\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        validate={required()}\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        validate={required()}\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <ReferenceInput\n                        source=\"category_id\"\n                        reference=\"categories\"\n                        allowEmpty\n                    >\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput\n                        source=\"stock\"\n                        validate={required()}\n                        className={classes.stock}\n                    />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.description\"\n                    path=\"description\"\n                >\n                    <RichTextInput source=\"description\" label=\"\" />\n                </FormTab>\n            </TabbedForm>\n        </Create>\n    );\n};\n\nexport default ProductCreate;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    Datagrid,\n    DateField,\n    Edit,\n    EditButton,\n    FormTab,\n    NumberInput,\n    Pagination,\n    ReferenceInput,\n    ReferenceManyField,\n    SelectInput,\n    TabbedForm,\n    TextField,\n    TextInput,\n    required,\n} from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RichTextInput from 'ra-input-rich-text';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from '../reviews/StarRatingField';\nimport Poster from './Poster';\nimport { styles as createStyles } from './ProductCreate';\nimport { Product, EditComponentProps } from '../types';\n\ninterface ProductTitleProps {\n    record?: Product;\n}\n\nconst ProductTitle: FC<ProductTitleProps> = ({ record }) =>\n    record ? <span>Poster #{record.reference}</span> : null;\n\nconst useStyles = makeStyles({\n    ...createStyles,\n    comment: {\n        maxWidth: '20em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n    tab: {\n        maxWidth: '40em',\n        display: 'block',\n    },\n});\n\nconst ProductEdit: FC<EditComponentProps> = props => {\n    const classes = useStyles();\n    return (\n        <Edit {...props} title={<ProductTitle />}>\n            <TabbedForm>\n                <FormTab\n                    label=\"resources.products.tabs.image\"\n                    contentClassName={classes.tab}\n                >\n                    <Poster />\n                    <TextInput\n                        source=\"image\"\n                        fullWidth\n                        validate={requiredValidate}\n                    />\n                    <TextInput\n                        source=\"thumbnail\"\n                        fullWidth\n                        validate={requiredValidate}\n                    />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.details\"\n                    path=\"details\"\n                    contentClassName={classes.tab}\n                >\n                    <TextInput source=\"reference\" validate={requiredValidate} />\n                    <NumberInput\n                        source=\"price\"\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    €\n                                </InputAdornment>\n                            ),\n                        }}\n                        validate={requiredValidate}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                        validate={requiredValidate}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                        validate={requiredValidate}\n                    />\n                    <ReferenceInput\n                        source=\"category_id\"\n                        reference=\"categories\"\n                        validate={requiredValidate}\n                    >\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput\n                        source=\"stock\"\n                        className={classes.stock}\n                        validate={requiredValidate}\n                    />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.description\"\n                    path=\"description\"\n                    contentClassName={classes.tab}\n                >\n                    <RichTextInput\n                        source=\"description\"\n                        label=\"\"\n                        validate={requiredValidate}\n                    />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.reviews\" path=\"reviews\">\n                    <ReferenceManyField\n                        reference=\"reviews\"\n                        target=\"product_id\"\n                        addLabel={false}\n                        pagination={<Pagination />}\n                        fullWidth\n                    >\n                        <Datagrid>\n                            <DateField source=\"date\" />\n                            <CustomerReferenceField />\n                            <StarRatingField />\n                            <TextField\n                                source=\"comment\"\n                                cellClassName={classes.comment}\n                            />\n                            <TextField source=\"status\" />\n                            <EditButton />\n                        </Datagrid>\n                    </ReferenceManyField>\n                </FormTab>\n            </TabbedForm>\n        </Edit>\n    );\n};\n\nconst requiredValidate = [required()];\n\nexport default ProductEdit;\n","import ProductIcon from '@material-ui/icons/Collections';\nimport ProductList from './ProductList';\nimport ProductEdit from './ProductEdit';\nimport ProductCreate from './ProductCreate';\n\nexport default {\n    list: ProductList,\n    create: ProductCreate,\n    edit: ProductEdit,\n    icon: ProductIcon,\n};\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport { stringify } from 'query-string';\n\nimport products from '../products';\nimport { FieldProps, Category } from '../types';\n\nconst useStyles = makeStyles({\n    icon: { paddingRight: '0.5em' },\n    link: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n});\n\nconst LinkToRelatedProducts: FC<FieldProps<Category>> = ({ record }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return record ? (\n        <Button\n            size=\"small\"\n            color=\"primary\"\n            component={Link}\n            to={{\n                pathname: '/products',\n                search: stringify({\n                    page: 1,\n                    perPage: 25,\n                    sort: 'id',\n                    order: 'DESC',\n                    filter: JSON.stringify({ category_id: record.id }),\n                }),\n            }}\n            className={classes.link}\n        >\n            <products.icon className={classes.icon} />\n            {translate('resources.categories.fields.products')}\n        </Button>\n    ) : null;\n};\n\nexport default LinkToRelatedProducts;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { EditButton, List } from 'react-admin';\nimport { ListControllerProps } from 'ra-core';\nimport inflection from 'inflection';\nimport {\n    Grid,\n    Card,\n    CardMedia,\n    CardContent,\n    CardActions,\n    Typography,\n} from '@material-ui/core';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport LinkToRelatedProducts from './LinkToRelatedProducts';\nimport { Category } from '../types';\n\nconst useStyles = makeStyles({\n    root: {\n        marginTop: '1em',\n    },\n    media: {\n        height: 140,\n    },\n    title: {\n        paddingBottom: '0.5em',\n    },\n    actionSpacer: {\n        display: 'flex',\n        justifyContent: 'space-around',\n    },\n});\n\nconst CategoryGrid: FC<ListControllerProps<Category>> = props => {\n    const classes = useStyles(props);\n    const { data, ids } = props;\n    return ids ? (\n        <Grid container spacing={2} className={classes.root}>\n            {ids.map(id => (\n                <Grid key={id} xs={12} sm={6} md={4} lg={3} xl={2} item>\n                    <Card>\n                        <CardMedia\n                            image={`https://marmelab.com/posters/${\n                                data[id].name\n                            }-1.jpeg`}\n                            className={classes.media}\n                        />\n                        <CardContent className={classes.title}>\n                            <Typography\n                                variant=\"h5\"\n                                component=\"h2\"\n                                align=\"center\"\n                            >\n                                {inflection.humanize(data[id].name)}\n                            </Typography>\n                        </CardContent>\n                        <CardActions\n                            classes={{ spacing: classes.actionSpacer }}\n                        >\n                            <LinkToRelatedProducts record={data[id]} />\n                            <EditButton\n                                basePath=\"/categories\"\n                                record={data[id]}\n                            />\n                        </CardActions>\n                    </Card>\n                </Grid>\n            ))}\n        </Grid>\n    ) : null;\n};\n\nconst CategoryList = (props: any) => (\n    <List\n        {...props}\n        sort={{ field: 'name', order: 'ASC' }}\n        perPage={20}\n        pagination={false}\n        component=\"div\"\n        actions={false}\n    >\n        {/* \n        // @ts-ignore */}\n        <CategoryGrid />\n    </List>\n);\n\nexport default CategoryList;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps, Product } from '../types';\n\nconst useStyles = makeStyles({\n    root: { width: 25, maxWidth: 25, maxHeight: 25 },\n});\n\nconst ThumbnailField: FC<FieldProps<Product>> = ({ record }) => {\n    const classes = useStyles();\n    return record ? (\n        <img src={record.thumbnail} className={classes.root} alt=\"\" />\n    ) : null;\n};\n\nexport default ThumbnailField;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FieldProps, Product } from '../types';\n\nconst ProductRefField: FC<FieldProps<Product>> = ({ record }) =>\n    record ? (\n        <Link to={`products/${record.id}`}>{record.reference}</Link>\n    ) : null;\n\nProductRefField.defaultProps = {\n    source: 'id',\n    label: 'Reference',\n};\n\nexport default ProductRefField;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    Datagrid,\n    Edit,\n    EditButton,\n    NumberField,\n    ReferenceManyField,\n    SimpleForm,\n    TextInput,\n    useTranslate,\n} from 'react-admin';\n\nimport ThumbnailField from '../products/ThumbnailField';\nimport ProductRefField from '../products/ProductRefField';\nimport { FieldProps, Category } from '../types';\n\nconst CategoryTitle: FC<FieldProps<Category>> = ({ record }) => {\n    const translate = useTranslate();\n    return record ? (\n        <span>\n            {translate('resources.categories.name', { smart_count: 1 })} &quot;\n            {record.name}&quot;\n        </span>\n    ) : null;\n};\n\nconst CategoryEdit = (props: any) => (\n    <Edit title={<CategoryTitle />} {...props}>\n        <SimpleForm>\n            <TextInput source=\"name\" />\n            <ReferenceManyField\n                reference=\"products\"\n                target=\"category_id\"\n                label=\"resources.categories.fields.products\"\n                perPage={20}\n                fullWidth\n            >\n                <Datagrid>\n                    <ThumbnailField />\n                    <ProductRefField source=\"reference\" />\n                    <NumberField\n                        source=\"price\"\n                        options={{ style: 'currency', currency: 'USD' }}\n                    />\n                    <NumberField\n                        source=\"width\"\n                        options={{ minimumFractionDigits: 2 }}\n                    />\n                    <NumberField\n                        source=\"height\"\n                        options={{ minimumFractionDigits: 2 }}\n                    />\n                    <NumberField source=\"stock\" />\n                    <EditButton />\n                </Datagrid>\n            </ReferenceManyField>\n        </SimpleForm>\n    </Edit>\n);\n\nexport default CategoryEdit;\n","import CategoryIcon from '@material-ui/icons/Bookmark';\n\nimport CategoryList from './CategoryList';\nimport CategoryEdit from './CategoryEdit';\n\nexport default {\n    list: CategoryList,\n    edit: CategoryEdit,\n    icon: CategoryIcon,\n};\n","import * as React from 'react';\nimport { FC, Fragment, ReactElement } from 'react';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport List from '@material-ui/core/List';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Typography from '@material-ui/core/Typography';\nimport Collapse from '@material-ui/core/Collapse';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\n\nconst useStyles = makeStyles(theme => ({\n    icon: { minWidth: theme.spacing(5) },\n    sidebarIsOpen: {\n        '& a': {\n            paddingLeft: theme.spacing(4),\n            transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n        },\n    },\n    sidebarIsClosed: {\n        '& a': {\n            paddingLeft: theme.spacing(2),\n            transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n        },\n    },\n}));\n\ninterface Props {\n    dense: boolean;\n    handleToggle: () => void;\n    icon: ReactElement;\n    isOpen: boolean;\n    name: string;\n    sidebarIsOpen: boolean;\n}\n\nconst SubMenu: FC<Props> = ({\n    handleToggle,\n    sidebarIsOpen,\n    isOpen,\n    name,\n    icon,\n    children,\n    dense,\n}) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    const header = (\n        <MenuItem dense={dense} button onClick={handleToggle}>\n            <ListItemIcon className={classes.icon}>\n                {isOpen ? <ExpandMore /> : icon}\n            </ListItemIcon>\n            <Typography variant=\"inherit\" color=\"textSecondary\">\n                {translate(name)}\n            </Typography>\n        </MenuItem>\n    );\n\n    return (\n        <Fragment>\n            {sidebarIsOpen || isOpen ? (\n                header\n            ) : (\n                <Tooltip title={translate(name)} placement=\"right\">\n                    {header}\n                </Tooltip>\n            )}\n            <Collapse in={isOpen} timeout=\"auto\" unmountOnExit>\n                <List\n                    dense={dense}\n                    component=\"div\"\n                    disablePadding\n                    className={\n                        sidebarIsOpen\n                            ? classes.sidebarIsOpen\n                            : classes.sidebarIsClosed\n                    }\n                >\n                    {children}\n                </List>\n            </Collapse>\n        </Fragment>\n    );\n};\n\nexport default SubMenu;\n","import * as React from \"react\";\nimport { FC, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport LabelIcon from \"@material-ui/icons/Label\";\nimport { useMediaQuery, Theme } from \"@material-ui/core\";\nimport { useTranslate, DashboardMenuItem, MenuItemLink } from \"react-admin\";\n\nimport visitors from \"../visitors\";\nimport orders from \"../orders\";\nimport invoices from \"../invoices\";\nimport products from \"../products\";\nimport categories from \"../categories\";\nimport reviews from \"../reviews\";\nimport SubMenu from \"./SubMenu\";\nimport { AppState } from \"../types\";\n\ntype MenuName = \"menuCatalog\" | \"menuSales\" | \"menuCustomers\";\n\ninterface Props {\n  dense: boolean;\n  logout: () => void;\n  onMenuClick: () => void;\n}\n\nconst Menu: FC<Props> = ({ onMenuClick, dense, logout }) => {\n  const [state, setState] = useState({\n    menuCatalog: false,\n    menuSales: false,\n    menuCustomers: false,\n  });\n  const translate = useTranslate();\n  const isXSmall = useMediaQuery((theme: Theme) =>\n    theme.breakpoints.down(\"xs\")\n  );\n  const open = useSelector((state: AppState) => state.admin.ui.sidebarOpen);\n  useSelector((state: AppState) => state.theme); // force rerender on theme change\n\n  const handleToggle = (menu: MenuName) => {\n    setState((state) => ({ ...state, [menu]: !state[menu] }));\n  };\n\n  return (\n    <div>\n      {\" \"}\n      <DashboardMenuItem onClick={onMenuClick} sidebarIsOpen={open} />\n      <SubMenu\n        handleToggle={() => handleToggle(\"menuSales\")}\n        isOpen={state.menuSales}\n        sidebarIsOpen={open}\n        name=\"pos.menu.sales\"\n        icon={<orders.icon />}\n        dense={dense}\n      >\n        <MenuItemLink\n          to={`/commands`}\n          primaryText={translate(`resources.commands.name`, {\n            smart_count: 2,\n          })}\n          leftIcon={<orders.icon />}\n          onClick={onMenuClick}\n          sidebarIsOpen={open}\n          dense={dense}\n        />\n        <MenuItemLink\n          to={`/invoices`}\n          primaryText={translate(`resources.invoices.name`, {\n            smart_count: 2,\n          })}\n          leftIcon={<invoices.icon />}\n          onClick={onMenuClick}\n          sidebarIsOpen={open}\n          dense={dense}\n        />\n      </SubMenu>\n      <SubMenu\n        handleToggle={() => handleToggle(\"menuCatalog\")}\n        isOpen={state.menuCatalog}\n        sidebarIsOpen={open}\n        name=\"pos.menu.catalog\"\n        icon={<products.icon />}\n        dense={dense}\n      >\n        <MenuItemLink\n          to={`/products`}\n          primaryText={translate(`resources.products.name`, {\n            smart_count: 2,\n          })}\n          leftIcon={<products.icon />}\n          onClick={onMenuClick}\n          sidebarIsOpen={open}\n          dense={dense}\n        />\n        <MenuItemLink\n          to={`/categories`}\n          primaryText={translate(`resources.categories.name`, {\n            smart_count: 2,\n          })}\n          leftIcon={<categories.icon />}\n          onClick={onMenuClick}\n          sidebarIsOpen={open}\n          dense={dense}\n        />\n      </SubMenu>\n      <SubMenu\n        handleToggle={() => handleToggle(\"menuCustomers\")}\n        isOpen={state.menuCustomers}\n        sidebarIsOpen={open}\n        name=\"pos.menu.customers\"\n        icon={<visitors.icon />}\n        dense={dense}\n      >\n        <MenuItemLink\n          to={`/customers`}\n          primaryText={translate(`resources.customers.name`, {\n            smart_count: 2,\n          })}\n          leftIcon={<visitors.icon />}\n          onClick={onMenuClick}\n          sidebarIsOpen={open}\n          dense={dense}\n        />\n        <MenuItemLink\n          to={`/segments`}\n          primaryText={translate(`resources.segments.name`, {\n            smart_count: 2,\n          })}\n          leftIcon={<LabelIcon />}\n          onClick={onMenuClick}\n          sidebarIsOpen={open}\n          dense={dense}\n        />\n      </SubMenu>\n      <MenuItemLink\n        to={`/reviews`}\n        primaryText={translate(`resources.reviews.name`, {\n          smart_count: 2,\n        })}\n        leftIcon={<reviews.icon />}\n        onClick={onMenuClick}\n        sidebarIsOpen={open}\n        dense={dense}\n      />\n      {isXSmall && (\n        <MenuItemLink\n          to=\"/configuration\"\n          primaryText={translate(\"pos.configuration\")}\n          leftIcon={<SettingsIcon />}\n          onClick={onMenuClick}\n          sidebarIsOpen={open}\n          dense={dense}\n        />\n      )}\n      {isXSmall && logout}\n    </div>\n  );\n};\n\nexport default Menu;\n","export const darkTheme = {\n    palette: {\n        primary: {\n            main: '#90caf9',\n        },\n        type: 'dark', // Switching the dark mode on is a single property value change.\n    },\n};\n\nexport const lightTheme = {\n    palette: {\n        primary: {\n            main: '#4f3cc9',\n        },\n        secondary: {\n            light: '#5f5fc4',\n            main: '#283593',\n            dark: '#001064',\n            contrastText: '#fff',\n        },\n        background: {\n            default: '#fcfcfe',\n        },\n    },\n    shape: {\n        borderRadius: 10,\n    },\n    overrides: {\n        RaMenuItemLink: {\n            root: {\n                borderLeft: '3px solid #fff',\n            },\n            active: {\n                borderLeft: '3px solid #4f3cc9',\n            },\n        },\n        MuiPaper: {\n            elevation1: {\n                boxShadow: 'none',\n            },\n            root: {\n                border: '1px solid #e0e0e3',\n                backgroundClip: 'padding-box',\n            },\n        },\n        MuiButton: {\n            contained: {\n                backgroundColor: '#fff',\n                color: '#4f3cc9',\n                boxShadow: 'none',\n            },\n        },\n        MuiAppBar: {\n            colorSecondary: {\n                color: '#808080',\n                backgroundColor: '#fff',\n            },\n        },\n        MuiLinearProgress: {\n            colorPrimary: {\n                backgroundColor: '#f5f5f5',\n            },\n            barColorPrimary: {\n                backgroundColor: '#d7d7d7',\n            },\n        },\n        MuiFilledInput: {\n            root: {\n                backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                '&$disabled': {\n                    backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                },\n            },\n        },\n    },\n};\n","import * as React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Layout, Sidebar } from \"react-admin\";\nimport AppBar from \"./AppBar\";\nimport Menu from \"./Menu\";\nimport { darkTheme, lightTheme } from \"./themes\";\nimport { AppState } from \"../types\";\n\nconst CustomSidebar = (props: any) => <Sidebar {...props} size={200} />;\n\nexport default (props: any) => {\n  const theme = useSelector((state: AppState) =>\n    state.theme === \"dark\" ? darkTheme : lightTheme\n  );\n  return (\n    <Layout\n      {...props}\n      appBar={AppBar}\n      sidebar={CustomSidebar}\n      menu={Menu}\n      theme={theme}\n    />\n  );\n};\n","import * as React from 'react';\nimport { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, withTypes } from 'react-final-form';\nimport { useLocation } from 'react-router-dom';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TextField from '@material-ui/core/TextField';\nimport { createMuiTheme, makeStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\n\nimport { Notification } from 'react-admin';\nimport { useTranslate, useLogin, useNotify } from 'ra-core';\nimport { lightTheme } from './themes';\n\nconst useStyles = makeStyles(theme => ({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        background: 'url(https://source.unsplash.com/random/1600x900)',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n    },\n    card: {\n        minWidth: 300,\n        marginTop: '6em',\n    },\n    avatar: {\n        margin: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    icon: {\n        backgroundColor: theme.palette.secondary.main,\n    },\n    hint: {\n        marginTop: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n        color: theme.palette.grey[500],\n    },\n    form: {\n        padding: '0 1em 1em 1em',\n    },\n    input: {\n        marginTop: '1em',\n    },\n    actions: {\n        padding: '0 1em 1em 1em',\n    },\n}));\n\nconst renderInput = ({\n    meta: { touched, error } = { touched: false, error: undefined },\n    input: { ...inputProps },\n    ...props\n}) => (\n    <TextField\n        error={!!(touched && error)}\n        helperText={touched && error}\n        {...inputProps}\n        {...props}\n        fullWidth\n    />\n);\n\ninterface FormValues {\n    username?: string;\n    password?: string;\n}\n\nconst { Form } = withTypes<FormValues>();\n\nconst Login = () => {\n    const [loading, setLoading] = useState(false);\n    const translate = useTranslate();\n    const classes = useStyles();\n    const notify = useNotify();\n    const login = useLogin();\n    const location = useLocation<{ nextPathname: string } | null>();\n\n    const handleSubmit = (auth: FormValues) => {\n        setLoading(true);\n        login(auth, location.state ? location.state.nextPathname : '/').catch(\n            (error: Error) => {\n                setLoading(false);\n                notify(\n                    typeof error === 'string'\n                        ? error\n                        : typeof error === 'undefined' || !error.message\n                        ? 'ra.auth.sign_in_error'\n                        : error.message,\n                    'warning'\n                );\n            }\n        );\n    };\n\n    const validate = (values: FormValues) => {\n        const errors: FormValues = {};\n        if (!values.username) {\n            errors.username = translate('ra.validation.required');\n        }\n        if (!values.password) {\n            errors.password = translate('ra.validation.required');\n        }\n        return errors;\n    };\n\n    return (\n        <Form\n            onSubmit={handleSubmit}\n            validate={validate}\n            render={({ handleSubmit }) => (\n                <form onSubmit={handleSubmit} noValidate>\n                    <div className={classes.main}>\n                        <Card className={classes.card}>\n                            <div className={classes.avatar}>\n                                <Avatar className={classes.icon}>\n                                    <LockIcon />\n                                </Avatar>\n                            </div>\n                            <div className={classes.hint}>\n                                Hint: demo / demo\n                            </div>\n                            <div className={classes.form}>\n                                <div className={classes.input}>\n                                    <Field\n                                        autoFocus\n                                        name=\"username\"\n                                        // @ts-ignore\n                                        component={renderInput}\n                                        label={translate('ra.auth.username')}\n                                        disabled={loading}\n                                    />\n                                </div>\n                                <div className={classes.input}>\n                                    <Field\n                                        name=\"password\"\n                                        // @ts-ignore\n                                        component={renderInput}\n                                        label={translate('ra.auth.password')}\n                                        type=\"password\"\n                                        disabled={loading}\n                                    />\n                                </div>\n                            </div>\n                            <CardActions className={classes.actions}>\n                                <Button\n                                    variant=\"contained\"\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={loading}\n                                    fullWidth\n                                >\n                                    {loading && (\n                                        <CircularProgress\n                                            size={25}\n                                            thickness={2}\n                                        />\n                                    )}\n                                    {translate('ra.auth.sign_in')}\n                                </Button>\n                            </CardActions>\n                        </Card>\n                        <Notification />\n                    </div>\n                </form>\n            )}\n        />\n    );\n};\n\nLogin.propTypes = {\n    authProvider: PropTypes.func,\n    previousRoute: PropTypes.string,\n};\n\n// We need to put the ThemeProvider decoration in another component\n// Because otherwise the useStyles() hook used in Login won't get\n// the right theme\nconst LoginWithTheme = (props: any) => (\n    <ThemeProvider theme={createMuiTheme(lightTheme)}>\n        <Login {...props} />\n    </ThemeProvider>\n);\n\nexport default LoginWithTheme;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Box, Card, CardActions, Button, Typography } from '@material-ui/core';\nimport HomeIcon from '@material-ui/icons/Home';\nimport CodeIcon from '@material-ui/icons/Code';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\n\nimport backgroundImage from './welcome_bg.png';\nimport publishArticleImage from './welcome_illustration.svg';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        background:\n            theme.palette.type === 'dark'\n                ? '#535353'\n                : `url(${backgroundImage}) no-repeat #6f4ceb`,\n        color: '#fff',\n        padding: 20,\n        marginTop: theme.spacing(2),\n        marginBottom: '1em',\n    },\n    media: {\n        background: `url(${publishArticleImage}) top right / cover`,\n        marginLeft: 'auto',\n    },\n    actions: {\n        [theme.breakpoints.down('md')]: {\n            padding: 0,\n            flexWrap: 'wrap',\n            '& a': {\n                marginTop: '1em',\n                marginLeft: '0!important',\n                marginRight: '1em',\n            },\n        },\n    },\n}));\n\nconst Welcome: FC = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <Box display=\"flex\">\n                <Box flex=\"1\">\n                    <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                        {translate('pos.dashboard.welcome.title')}\n                    </Typography>\n                    <Box maxWidth=\"40em\">\n                        <Typography variant=\"body1\" component=\"p\" gutterBottom>\n                            {translate('pos.dashboard.welcome.subtitle')}\n                        </Typography>\n                    </Box>\n                    <CardActions className={classes.actions}>\n                        <Button\n                            variant=\"contained\"\n                            href=\"https://marmelab.com/react-admin\"\n                            startIcon={<HomeIcon />}\n                        >\n                            {translate('pos.dashboard.welcome.aor_button')}\n                        </Button>\n                        <Button\n                            variant=\"contained\"\n                            href=\"https://github.com/marmelab/react-admin/tree/master/examples/demo\"\n                            startIcon={<CodeIcon />}\n                        >\n                            {translate('pos.dashboard.welcome.demo_button')}\n                        </Button>\n                    </CardActions>\n                </Box>\n\n                <Box\n                    display={{ xs: 'none', sm: 'none', md: 'block' }}\n                    width=\"15em\"\n                    overflow=\"hidden\"\n                >\n                    <Box height=\"9em\" width=\"15em\" className={classes.media} />\n                </Box>\n            </Box>\n        </Card>\n    );\n};\n\nexport default Welcome;\n","import * as React from \"react\";\nimport { FC, createElement } from \"react\";\nimport { Card, Box, Typography, Divider } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Link } from \"react-router-dom\";\n\nimport cartouche from \"./cartouche.png\";\nimport cartoucheDark from \"./cartoucheDark.png\";\n\ninterface Props {\n  icon: FC<any>;\n  to: string;\n  title?: string;\n  subtitle?: string | number;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  card: {\n    minHeight: 52,\n    flex: \"1\",\n    \"& a\": {\n      textDecoration: \"none\",\n      color: \"inherit\",\n    },\n  },\n  main: (props: Props) => ({\n    overflow: \"inherit\",\n    padding: 16,\n    background: `url(${\n      theme.palette.type === \"dark\" ? cartoucheDark : cartouche\n    }) no-repeat`,\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    \"& .icon\": {\n      color: theme.palette.type === \"dark\" ? \"inherit\" : \"#dc2440\",\n    },\n  }),\n  title: {},\n}));\n\nconst CardWithIcon: FC<Props> = (props) => {\n  const { icon, title, subtitle, to, children } = props;\n  const classes = useStyles(props);\n  return (\n    <Card className={classes.card}>\n      <Link to={to}>\n        <div className={classes.main}>\n          <Box width=\"3em\" className=\"icon\">\n            {createElement(icon, { fontSize: \"large\" })}\n          </Box>\n          <Box textAlign=\"right\">\n            <Typography className={classes.title} color=\"textSecondary\">\n              {title}\n            </Typography>\n            <Typography variant=\"h5\" component=\"h2\">\n              {subtitle || \" \"}\n            </Typography>\n          </Box>\n        </div>\n      </Link>\n      {children && <Divider />}\n      {children}\n    </Card>\n  );\n};\n\nexport default CardWithIcon;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport DollarIcon from '@material-ui/icons/AttachMoney';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\n\ninterface Props {\n    value?: number;\n}\n\nconst MonthlyRevenue: FC<Props> = ({ value }) => {\n    const translate = useTranslate();\n    return (\n        <CardWithIcon\n            to=\"/commands\"\n            icon={DollarIcon}\n            title={translate('pos.dashboard.monthly_revenue')}\n            subtitle={value}\n        />\n    );\n};\n\nexport default MonthlyRevenue;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\n\ninterface Props {\n    value?: number;\n}\n\nconst NbNewOrders: FC<Props> = ({ value }) => {\n    const translate = useTranslate();\n    return (\n        <CardWithIcon\n            to=\"/commands\"\n            icon={ShoppingCartIcon}\n            title={translate('pos.dashboard.new_orders')}\n            subtitle={value}\n        />\n    );\n};\n\nexport default NbNewOrders;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport { Customer, Order } from '../types';\n\ninterface Props {\n    orders?: Order[];\n    customers?: { [key: string]: Customer };\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flex: 1,\n    },\n    cost: {\n        marginRight: '1em',\n        color: theme.palette.text.primary,\n    },\n}));\n\nconst PendingOrders: FC<Props> = ({ orders = [], customers = {} }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    return (\n        <Card className={classes.root}>\n            <CardHeader title={translate('pos.dashboard.pending_orders')} />\n            <List dense={true}>\n                {orders.map(record => (\n                    <ListItem\n                        key={record.id}\n                        button\n                        component={Link}\n                        to={`/commands/${record.id}`}\n                    >\n                        <ListItemAvatar>\n                            {customers[record.customer_id] ? (\n                                <Avatar\n                                    src={`${\n                                        customers[record.customer_id].avatar\n                                    }?size=32x32`}\n                                />\n                            ) : (\n                                <Avatar />\n                            )}\n                        </ListItemAvatar>\n                        <ListItemText\n                            primary={new Date(record.date).toLocaleString(\n                                'en-GB'\n                            )}\n                            secondary={translate('pos.dashboard.order.items', {\n                                smart_count: record.basket.length,\n                                nb_items: record.basket.length,\n                                customer_name: customers[record.customer_id]\n                                    ? `${\n                                          customers[record.customer_id]\n                                              .first_name\n                                      } ${\n                                          customers[record.customer_id]\n                                              .last_name\n                                      }`\n                                    : '',\n                            })}\n                        />\n                        <ListItemSecondaryAction>\n                            <span className={classes.cost}>\n                                {record.total}$\n                            </span>\n                        </ListItemSecondaryAction>\n                    </ListItem>\n                ))}\n            </List>\n        </Card>\n    );\n};\n\nexport default PendingOrders;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n    Avatar,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CommentIcon from '@material-ui/icons/Comment';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\nimport StarRatingField from '../reviews/StarRatingField';\nimport { Customer, Review } from '../types';\n\ninterface Props {\n    reviews?: Review[];\n    customers?: { [key: string]: Customer };\n    nb?: number;\n}\n\nconst useStyles = makeStyles(theme => ({\n    avatar: {\n        background: theme.palette.background.paper,\n    },\n    listItemText: {\n        overflowY: 'hidden',\n        height: '4em',\n        display: '-webkit-box',\n        WebkitLineClamp: 2,\n        WebkitBoxOrient: 'vertical',\n    },\n}));\n\nconst PendingReviews: FC<Props> = ({ reviews = [], customers = {}, nb }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    return (\n        <CardWithIcon\n            to=\"/reviews\"\n            icon={CommentIcon}\n            title={translate('pos.dashboard.pending_reviews')}\n            subtitle={nb}\n        >\n            <List>\n                {reviews.map((record: Review) => (\n                    <ListItem\n                        key={record.id}\n                        button\n                        component={Link}\n                        to={`/reviews/${record.id}`}\n                        alignItems=\"flex-start\"\n                    >\n                        <ListItemAvatar>\n                            {customers[record.customer_id] ? (\n                                <Avatar\n                                    src={`${\n                                        customers[record.customer_id].avatar\n                                    }?size=32x32`}\n                                    className={classes.avatar}\n                                />\n                            ) : (\n                                <Avatar />\n                            )}\n                        </ListItemAvatar>\n\n                        <ListItemText\n                            primary={<StarRatingField record={record} />}\n                            secondary={record.comment}\n                            className={classes.listItemText}\n                            style={{ paddingRight: 0 }}\n                        />\n                    </ListItem>\n                ))}\n            </List>\n        </CardWithIcon>\n    );\n};\n\nexport default PendingReviews;\n","import * as React from 'react';\nimport { useMemo } from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport CustomerIcon from '@material-ui/icons/PersonAdd';\nimport { Link } from 'react-router-dom';\nimport { useTranslate, useQueryWithStore } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\nimport { Customer } from '../types';\n\nconst NewCustomers = () => {\n    const translate = useTranslate();\n    const aMonthAgo = useMemo(() => {\n        const date = new Date();\n        date.setDate(date.getDate() - 30);\n        date.setHours(0);\n        date.setMinutes(0);\n        date.setSeconds(0);\n        date.setMilliseconds(0);\n        return date;\n    }, []);\n\n    const { loaded, data: visitors } = useQueryWithStore({\n        type: 'getList',\n        resource: 'customers',\n        payload: {\n            filter: {\n                has_ordered: true,\n                first_seen_gte: aMonthAgo.toISOString(),\n            },\n            sort: { field: 'first_seen', order: 'DESC' },\n            pagination: { page: 1, perPage: 100 },\n        },\n    });\n\n    if (!loaded) return null;\n\n    const nb = visitors ? visitors.reduce((nb: number) => ++nb, 0) : 0;\n    return (\n        <CardWithIcon\n            to=\"/customers\"\n            icon={CustomerIcon}\n            title={translate('pos.dashboard.new_customers')}\n            subtitle={nb}\n        >\n            <List>\n                {visitors\n                    ? visitors.map((record: Customer) => (\n                          <ListItem\n                              button\n                              to={`/customers/${record.id}`}\n                              component={Link}\n                              key={record.id}\n                          >\n                              <ListItemAvatar>\n                                  <Avatar src={`${record.avatar}?size=32x32`} />\n                              </ListItemAvatar>\n                              <ListItemText\n                                  primary={`${record.first_name} ${\n                                      record.last_name\n                                  }`}\n                              />\n                          </ListItem>\n                      ))\n                    : null}\n            </List>\n        </CardWithIcon>\n    );\n};\n\nexport default NewCustomers;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Card, CardHeader, CardContent } from '@material-ui/core';\nimport {\n    ResponsiveContainer,\n    BarChart,\n    Bar,\n    XAxis,\n    YAxis,\n    CartesianGrid,\n    Tooltip,\n} from 'recharts';\nimport { useTranslate } from 'react-admin';\n\nimport { Order } from '../types';\n\nconst lastDay = new Date(new Date().toDateString()).getTime();\nconst oneDay = 24 * 60 * 60 * 1000;\nconst lastMonthDays = Array.from(\n    { length: 30 },\n    (_, i) => lastDay - i * oneDay\n).reverse();\nconst aMonthAgo = new Date();\naMonthAgo.setDate(aMonthAgo.getDate() - 30);\n\nconst dateFormatter = (date: number): string =>\n    new Date(date).toLocaleDateString();\n\nconst aggregateOrdersByDay = (orders: Order[]): { [key: number]: number } =>\n    orders\n        .filter((order: Order) => order.status !== 'cancelled')\n        .reduce(\n            (acc, curr) => {\n                const day = new Date(\n                    new Date(curr.date).toDateString()\n                ).getTime();\n                if (!acc[day]) {\n                    acc[day] = 0;\n                }\n                acc[day] += curr.total;\n                return acc;\n            },\n            {} as { [key: string]: number }\n        );\n\nconst getRevenuePerDay = (orders: Order[]): TotalByDay[] => {\n    const daysWithRevenue = aggregateOrdersByDay(orders);\n    return lastMonthDays.map(date => ({\n        date,\n        total: daysWithRevenue[date] || 0,\n    }));\n};\n\nconst OrderChart: FC<{ orders?: Order[] }> = ({ orders }) => {\n    const translate = useTranslate();\n    if (!orders) return null;\n\n    return (\n        <Card>\n            <CardHeader title={translate('pos.dashboard.month_history')} />\n            <CardContent>\n                <ResponsiveContainer width=\"100%\" height={300}>\n                    <BarChart data={getRevenuePerDay(orders)}>\n                        <XAxis\n                            dataKey=\"date\"\n                            name=\"Date\"\n                            type=\"number\"\n                            scale=\"time\"\n                            domain={[aMonthAgo.getTime(), new Date().getTime()]}\n                            tickFormatter={dateFormatter}\n                            reversed\n                        />\n                        <YAxis dataKey=\"total\" name=\"Revenue\" unit=\"€\" />\n                        <CartesianGrid strokeDasharray=\"3 3\" />\n                        <Tooltip\n                            cursor={{ strokeDasharray: '3 3' }}\n                            formatter={value =>\n                                new Intl.NumberFormat(undefined, {\n                                    style: 'currency',\n                                    currency: 'USD',\n                                }).format(value as any)\n                            }\n                            labelFormatter={(label: any) =>\n                                dateFormatter(label)\n                            }\n                        />\n                        <Bar dataKey=\"total\" fill=\"#31708f\" />\n                    </BarChart>\n                </ResponsiveContainer>\n            </CardContent>\n        </Card>\n    );\n};\n\ninterface TotalByDay {\n    date: number;\n    total: number;\n}\n\nexport default OrderChart;\n","import React, {\n    useState,\n    useEffect,\n    useCallback,\n    FC,\n    CSSProperties,\n} from 'react';\nimport { useVersion, useDataProvider } from 'react-admin';\nimport { useMediaQuery, Theme } from '@material-ui/core';\n\nimport Welcome from './Welcome';\nimport MonthlyRevenue from './MonthlyRevenue';\nimport NbNewOrders from './NbNewOrders';\nimport PendingOrders from './PendingOrders';\nimport PendingReviews from './PendingReviews';\nimport NewCustomers from './NewCustomers';\nimport OrderChart from './OrderChart';\n\nimport { Customer, Order, Review } from '../types';\n\ninterface OrderStats {\n    revenue: number;\n    nbNewOrders: number;\n    pendingOrders: Order[];\n}\n\ninterface CustomerData {\n    [key: string]: Customer;\n}\n\ninterface State {\n    nbNewOrders?: number;\n    nbPendingReviews?: number;\n    pendingOrders?: Order[];\n    pendingOrdersCustomers?: CustomerData;\n    pendingReviews?: Review[];\n    pendingReviewsCustomers?: CustomerData;\n    recentOrders?: Order[];\n    revenue?: number;\n}\n\nconst styles = {\n    flex: { display: 'flex' },\n    flexColumn: { display: 'flex', flexDirection: 'column' },\n    leftCol: { flex: 1, marginRight: '0.5em' },\n    rightCol: { flex: 1, marginLeft: '0.5em' },\n    singleCol: { marginTop: '1em', marginBottom: '1em' },\n};\n\nconst Spacer = () => <span style={{ width: '1em' }} />;\nconst VerticalSpacer = () => <span style={{ height: '1em' }} />;\n\nconst Dashboard: FC = () => {\n    const [state, setState] = useState<State>({});\n    const version = useVersion();\n    const dataProvider = useDataProvider();\n    const isXSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('xs')\n    );\n    const isSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('md')\n    );\n\n    const fetchOrders = useCallback(async () => {\n        const aMonthAgo = new Date();\n        aMonthAgo.setDate(aMonthAgo.getDate() - 30);\n        const { data: recentOrders } = await dataProvider.getList('commands', {\n            filter: { date_gte: aMonthAgo.toISOString() },\n            sort: { field: 'date', order: 'DESC' },\n            pagination: { page: 1, perPage: 50 },\n        });\n        const aggregations = recentOrders\n            .filter((order: Order) => order.status !== 'cancelled')\n            .reduce(\n                (stats: OrderStats, order: Order) => {\n                    if (order.status !== 'cancelled') {\n                        stats.revenue += order.total;\n                        stats.nbNewOrders++;\n                    }\n                    if (order.status === 'ordered') {\n                        stats.pendingOrders.push(order);\n                    }\n                    return stats;\n                },\n                {\n                    revenue: 0,\n                    nbNewOrders: 0,\n                    pendingOrders: [],\n                }\n            );\n        setState(state => ({\n            ...state,\n            recentOrders,\n            revenue: aggregations.revenue.toLocaleString(undefined, {\n                style: 'currency',\n                currency: 'USD',\n                minimumFractionDigits: 0,\n                maximumFractionDigits: 0,\n            }),\n            nbNewOrders: aggregations.nbNewOrders,\n            pendingOrders: aggregations.pendingOrders,\n        }));\n        const { data: customers } = await dataProvider.getMany('customers', {\n            ids: aggregations.pendingOrders.map(\n                (order: Order) => order.customer_id\n            ),\n        });\n        setState(state => ({\n            ...state,\n            pendingOrdersCustomers: customers.reduce(\n                (prev: CustomerData, customer: Customer) => {\n                    prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n                    return prev;\n                },\n                {}\n            ),\n        }));\n    }, [dataProvider]);\n\n    const fetchReviews = useCallback(async () => {\n        const { data: reviews } = await dataProvider.getList('reviews', {\n            filter: { status: 'pending' },\n            sort: { field: 'date', order: 'DESC' },\n            pagination: { page: 1, perPage: 100 },\n        });\n        const nbPendingReviews = reviews.reduce((nb: number) => ++nb, 0);\n        const pendingReviews = reviews.slice(0, Math.min(10, reviews.length));\n        setState(state => ({ ...state, pendingReviews, nbPendingReviews }));\n        const { data: customers } = await dataProvider.getMany('customers', {\n            ids: pendingReviews.map((review: Review) => review.customer_id),\n        });\n        setState(state => ({\n            ...state,\n            pendingReviewsCustomers: customers.reduce(\n                (prev: CustomerData, customer: Customer) => {\n                    prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n                    return prev;\n                },\n                {}\n            ),\n        }));\n    }, [dataProvider]);\n\n    useEffect(() => {\n        fetchOrders();\n        fetchReviews();\n    }, [version]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    const {\n        nbNewOrders,\n        nbPendingReviews,\n        pendingOrders,\n        pendingOrdersCustomers,\n        pendingReviews,\n        pendingReviewsCustomers,\n        revenue,\n        recentOrders,\n    } = state;\n    return isXSmall ? (\n        <div>\n            <div style={styles.flexColumn as CSSProperties}>\n                <Welcome />\n                <MonthlyRevenue value={revenue} />\n                <VerticalSpacer />\n                <NbNewOrders value={nbNewOrders} />\n                <VerticalSpacer />\n                <PendingOrders\n                    orders={pendingOrders}\n                    customers={pendingOrdersCustomers}\n                />\n            </div>\n        </div>\n    ) : isSmall ? (\n        <div style={styles.flexColumn as CSSProperties}>\n            <div style={styles.singleCol}>\n                <Welcome />\n            </div>\n            <div style={styles.flex}>\n                <MonthlyRevenue value={revenue} />\n                <Spacer />\n                <NbNewOrders value={nbNewOrders} />\n            </div>\n            <div style={styles.singleCol}>\n                <OrderChart orders={recentOrders} />\n            </div>\n            <div style={styles.singleCol}>\n                <PendingOrders\n                    orders={pendingOrders}\n                    customers={pendingOrdersCustomers}\n                />\n            </div>\n        </div>\n    ) : (\n        <>\n            <Welcome />\n            <div style={styles.flex}>\n                <div style={styles.leftCol}>\n                    <div style={styles.flex}>\n                        <MonthlyRevenue value={revenue} />\n                        <Spacer />\n                        <NbNewOrders value={nbNewOrders} />\n                    </div>\n                    <div style={styles.singleCol}>\n                        <OrderChart orders={recentOrders} />\n                    </div>\n                    <div style={styles.singleCol}>\n                        <PendingOrders\n                            orders={pendingOrders}\n                            customers={pendingOrdersCustomers}\n                        />\n                    </div>\n                </div>\n                <div style={styles.rightCol}>\n                    <div style={styles.flex}>\n                        <PendingReviews\n                            nb={nbPendingReviews}\n                            reviews={pendingReviews}\n                            customers={pendingReviewsCustomers}\n                        />\n                        <Spacer />\n                        <NewCustomers />\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default Dashboard;\n","import DashboardComponent from './Dashboard';\n\nexport const Dashboard = DashboardComponent;\n","import * as React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport { useTranslate, useLocale, useSetLocale, Title } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { changeTheme } from './actions';\nimport { AppState } from '../types';\n\nconst useStyles = makeStyles({\n    label: { width: '10em', display: 'inline-block' },\n    button: { margin: '1em' },\n});\n\nconst Configuration = () => {\n    const translate = useTranslate();\n    const locale = useLocale();\n    const setLocale = useSetLocale();\n    const classes = useStyles();\n    const theme = useSelector((state: AppState) => state.theme);\n    const dispatch = useDispatch();\n    return (\n        <Card>\n            <Title title={translate('pos.configuration')} />\n            <CardContent>\n                <div className={classes.label}>\n                    {translate('pos.theme.name')}\n                </div>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={theme === 'light' ? 'primary' : 'default'}\n                    onClick={() => dispatch(changeTheme('light'))}\n                >\n                    {translate('pos.theme.light')}\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={theme === 'dark' ? 'primary' : 'default'}\n                    onClick={() => dispatch(changeTheme('dark'))}\n                >\n                    {translate('pos.theme.dark')}\n                </Button>\n            </CardContent>\n            <CardContent>\n                <div className={classes.label}>{translate('pos.language')}</div>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={locale === 'en' ? 'primary' : 'default'}\n                    onClick={() => setLocale('en')}\n                >\n                    en\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={locale === 'fr' ? 'primary' : 'default'}\n                    onClick={() => setLocale('fr')}\n                >\n                    fr\n                </Button>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Configuration;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport { stringify } from 'query-string';\n\nimport visitors from '../visitors';\n\nconst useStyles = makeStyles({\n    icon: { paddingRight: '0.5em' },\n    link: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n});\n\nconst LinkToRelatedCustomers: FC<{ segment: string }> = ({ segment }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Button\n            size=\"small\"\n            color=\"primary\"\n            component={Link}\n            to={{\n                pathname: '/customers',\n                search: stringify({\n                    page: 1,\n                    perPage: 25,\n                    filter: JSON.stringify({ groups: segment }),\n                }),\n            }}\n            className={classes.link}\n        >\n            <visitors.icon className={classes.icon} />\n            {translate('resources.segments.fields.customers')}\n        </Button>\n    );\n};\n\nexport default LinkToRelatedCustomers;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, Title } from 'react-admin';\n\nimport LinkToRelatedCustomers from './LinkToRelatedCustomers';\nimport segments from './data';\n\nconst useStyles = makeStyles({\n    root: {\n        marginTop: 16,\n    },\n});\n\nconst Segments: FC = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <Title title={translate('resources.segments.name')} />\n            <Table size=\"small\">\n                <TableHead>\n                    <TableRow>\n                        <TableCell>\n                            {translate('resources.segments.fields.name')}\n                        </TableCell>\n                        <TableCell />\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {segments.map(segment => (\n                        <TableRow key={segment.id}>\n                            <TableCell>{translate(segment.name)}</TableCell>\n                            <TableCell>\n                                <LinkToRelatedCustomers segment={segment.id} />\n                            </TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </Card>\n    );\n};\n\nexport default Segments;\n","import * as React from 'react';\nimport { Route } from 'react-router-dom';\nimport Configuration from './configuration/Configuration';\nimport Segments from './segments/Segments';\n\nexport default [\n    <Route exact path=\"/configuration\" render={() => <Configuration />} />,\n    <Route exact path=\"/segments\" render={() => <Segments />} />,\n];\n","import { TranslationMessages } from 'ra-core';\nimport englishMessages from 'ra-language-english';\n\nconst customEnglishMessages: TranslationMessages = {\n    ...englishMessages,\n    pos: {\n        search: 'Search',\n        configuration: 'Configuration',\n        language: 'Language',\n        theme: {\n            name: 'Theme',\n            light: 'Light',\n            dark: 'Dark',\n        },\n        dashboard: {\n            monthly_revenue: 'Monthly Revenue',\n            month_history: '30 Day Revenue History',\n            new_orders: 'New Orders',\n            pending_reviews: 'Pending Reviews',\n            new_customers: 'New Customers',\n            pending_orders: 'Pending Orders',\n            order: {\n                items:\n                    'by %{customer_name}, one item |||| by %{customer_name}, %{nb_items} items',\n            },\n            welcome: {\n                title: 'Welcome to the react-admin e-commerce demo',\n                subtitle:\n                    \"This is the admin of an imaginary poster shop. Feel free to explore and modify the data - it's local to your computer, and will reset each time you reload.\",\n                aor_button: 'react-admin site',\n                demo_button: 'Source for this demo',\n            },\n        },\n        menu: {\n            sales: 'Sales',\n            catalog: 'Catalog',\n            customers: 'Customers',\n        },\n    },\n    resources: {\n        customers: {\n            name: 'Customer |||| Customers',\n            fields: {\n                commands: 'Orders',\n                first_seen: 'First seen',\n                groups: 'Segments',\n                last_seen: 'Last seen',\n                last_seen_gte: 'Visited Since',\n                name: 'Name',\n                total_spent: 'Total spent',\n                password: 'Password',\n                confirm_password: 'Confirm password',\n            },\n            filters: {\n                last_visited: 'Last visited',\n                today: 'Today',\n                this_week: 'This week',\n                last_week: 'Last week',\n                this_month: 'This month',\n                last_month: 'Last month',\n                earlier: 'Earlier',\n                has_ordered: 'Has ordered',\n                has_newsletter: 'Has newsletter',\n                group: 'Segment',\n            },\n            fieldGroups: {\n                identity: 'Identity',\n                address: 'Address',\n                stats: 'Stats',\n                history: 'History',\n                password: 'Password',\n                change_password: 'Change Password',\n            },\n            page: {\n                delete: 'Delete Customer',\n            },\n            errors: {\n                password_mismatch:\n                    'The password confirmation is not the same as the password.',\n            },\n        },\n        commands: {\n            name: 'Order |||| Orders',\n            amount: '1 order |||| %{smart_count} orders',\n            title: 'Order %{reference}',\n            fields: {\n                basket: {\n                    delivery: 'Delivery',\n                    reference: 'Reference',\n                    quantity: 'Quantity',\n                    sum: 'Sum',\n                    tax_rate: 'Tax Rate',\n                    total: 'Total',\n                    unit_price: 'Unit Price',\n                },\n                customer_id: 'Customer',\n                date_gte: 'Passed Since',\n                date_lte: 'Passed Before',\n                total_gte: 'Min amount',\n                status: 'Status',\n                returned: 'Returned',\n            },\n        },\n        invoices: {\n            name: 'Invoice |||| Invoices',\n            fields: {\n                date: 'Invoice date',\n                customer_id: 'Customer',\n                command_id: 'Order',\n                date_gte: 'Passed Since',\n                date_lte: 'Passed Before',\n                total_gte: 'Min amount',\n                address: 'Address',\n            },\n        },\n        products: {\n            name: 'Poster |||| Posters',\n            fields: {\n                category_id: 'Category',\n                height_gte: 'Min height',\n                height_lte: 'Max height',\n                height: 'Height',\n                image: 'Image',\n                price: 'Price',\n                reference: 'Reference',\n                stock_lte: 'Low Stock',\n                stock: 'Stock',\n                thumbnail: 'Thumbnail',\n                width_gte: 'Min width',\n                width_lte: 'Max width',\n                width: 'Width',\n            },\n            tabs: {\n                image: 'Image',\n                details: 'Details',\n                description: 'Description',\n                reviews: 'Reviews',\n            },\n        },\n        categories: {\n            name: 'Category |||| Categories',\n            fields: {\n                products: 'Products',\n            },\n        },\n        reviews: {\n            name: 'Review |||| Reviews',\n            amount: '1 review |||| %{smart_count} reviews',\n            relative_to_poster: 'Review on poster',\n            detail: 'Review detail',\n            fields: {\n                customer_id: 'Customer',\n                command_id: 'Order',\n                product_id: 'Product',\n                date_gte: 'Posted since',\n                date_lte: 'Posted before',\n                date: 'Date',\n                comment: 'Comment',\n                rating: 'Rating',\n            },\n            action: {\n                accept: 'Accept',\n                reject: 'Reject',\n            },\n            notification: {\n                approved_success: 'Review approved',\n                approved_error: 'Error: Review not approved',\n                rejected_success: 'Review rejected',\n                rejected_error: 'Error: Review not rejected',\n            },\n        },\n        segments: {\n            name: 'Segment |||| Segments',\n            fields: {\n                customers: 'Customers',\n                name: 'Name',\n            },\n            data: {\n                compulsive: 'Compulsive',\n                collector: 'Collector',\n                ordered_once: 'Ordered once',\n                regular: 'Regular',\n                returns: 'Returns',\n                reviewer: 'Reviewer',\n            },\n        },\n    },\n};\n\nexport default customEnglishMessages;\n","export default (type: string) => {\n    switch (type) {\n        case 'graphql':\n            return import('./graphql').then(factory => factory.default());\n        default:\n            return import('./rest').then(provider => provider.default);\n    }\n};\n","export default (type: string) => {\n    switch (type) {\n        case 'graphql':\n            return import('./graphql').then(factory => factory.default());\n        default:\n            return import('./rest').then(factory => factory.default());\n    }\n};\n","import * as React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { Admin, Resource } from \"react-admin\";\nimport polyglotI18nProvider from \"ra-i18n-polyglot\";\n\nimport \"./App.css\";\n\nimport authProvider from \"./authProvider\";\nimport themeReducer from \"./themeReducer\";\nimport { Login, Layout } from \"./layout\";\nimport { Dashboard } from \"./dashboard\";\nimport customRoutes from \"./routes\";\nimport englishMessages from \"./i18n/en\";\n\nimport visitors from \"./visitors\";\nimport orders from \"./orders\";\nimport products from \"./products\";\nimport invoices from \"./invoices\";\nimport categories from \"./categories\";\nimport reviews from \"./reviews\";\n\nimport dataProviderFactory from \"./dataProvider\";\nimport fakeServerFactory from \"./fakeServer\";\n\nconst i18nProvider = polyglotI18nProvider((locale) => {\n  if (locale === \"fr\") {\n    return import(\"./i18n/fr\").then((messages) => messages.default);\n  }\n\n  // Always fallback on english\n  return englishMessages;\n}, \"en\");\n\nconst App = () => {\n  const [dataProvider, setDataProvider] = useState(null);\n\n  useEffect(() => {\n    let restoreFetch;\n\n    const fetchDataProvider = async () => {\n      restoreFetch = await fakeServerFactory(\n        process.env.REACT_APP_DATA_PROVIDER || \"\"\n      );\n      const dataProviderInstance = await dataProviderFactory(\n        process.env.REACT_APP_DATA_PROVIDER || \"\"\n      );\n      setDataProvider(\n        // GOTCHA: dataProviderInstance can be a function\n        () => dataProviderInstance\n      );\n    };\n\n    fetchDataProvider();\n\n    return restoreFetch;\n  }, []);\n\n  if (!dataProvider) {\n    return (\n      <div className=\"loader-container\">\n        <div className=\"loader\">Loading...</div>\n      </div>\n    );\n  }\n\n  return (\n    <Admin\n      title=\"\"\n      dataProvider={dataProvider}\n      customReducers={{ theme: themeReducer }}\n      customRoutes={customRoutes}\n      dashboard={Dashboard}\n      loginPage={Login}\n      layout={Layout}\n      i18nProvider={i18nProvider}\n    >\n      <Resource name=\"customers\" {...visitors} />\n      <Resource name=\"commands\" {...orders} options={{ label: \"Orders\" }} />\n      <Resource name=\"invoices\" {...invoices} />\n      <Resource name=\"products\" {...products} />\n      <Resource name=\"categories\" {...categories} />\n      <Resource name=\"reviews\" {...reviews} />\n    </Admin>\n  );\n};\n\nexport default App;\n","import 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\nimport 'proxy-polyfill';\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/welcome_bg.7b5d7983.png\";","module.exports = __webpack_public_path__ + \"static/media/welcome_illustration.87ada4be.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRF/Ors/Ojs+ubrAAAA/Ojs++np/Ojs9ujo/Onq8+Hh+urr9Onp++rr/Orq+Obr++Xl+urq+enr++bm+uns+ubr/Ors++nr/Ors+ubr+ujs++Xl/Ofs/Orq++fr+ers+ujsv7+/++rq+Ofs+urs++rq/Ors/Onq8d3j7dvb+urs+urr+ufr+ujs+Orq+ers++js9OPj+ujs/Ojo+unq9+ns9+bo++jr/Ofn/Orr+enp8uXl/Orq/Obm/Ors+urq2NjY+urr/Onp/OXo1dXV+ujq/Ojr8Ojo+Obo9uTn/Ojr++ns+urr+urq/Ors8+fnTQPn1wAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRFU1NTU1NTUFBQAAAAUVFRUVFRU1NTT09PU1NTR0dHUlJSTk5OUlJSUVFRUlJSTk5OU1NTT09PS0tLU1NTUVFRUVFRU1NTUVFRUlJSUVFRS0tLUFBQUVFRUVFRUVFRUVFRQEBAUVFRU1NTU1NTU1NTU1NTU1NTU1NTSUlJUFBQU1NTUlJSUVFRTk5OT09PUVFRSkpKUVFRU1NTU1NTTk5OT09PUlJSTU1NUVFRU1NTSEhIU1NTUVFRUVFRUVFROzs7U1NTU1NTUlJSKysrU1NTUlJSRkZGU1NTTU1NU1NTUlJSUVFRUVFRU1NTSUlJap2IRgAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==\""],"sourceRoot":""}